<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link rel="icon" href="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22%3E%3Ctext%20y=%22.9em%22%20font-size=%2290%22%3E🌐%3C/text%3E%3C/svg%3E" type="image/x-icon">
  </head>
  <body><script type="module">const GITHUB_CORNERS_TEMPLATE = document.createElement("template");
GITHUB_CORNERS_TEMPLATE.innerHTML = `
<style>
:host a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
@media (max-width:500px) {
  :host a:hover .octo-arm { animation: none; }
  :host .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}
:host svg { z-index: 99; position: fixed; border: 0px; top: 0px; }
</style>
<svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true">
  <a xlink:href="https://github.com/uiwjs/react-github-corners" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);">
    <g>
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path>
      <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </g>
  </a>
</svg>
`;
export class GithubCorners extends HTMLElement {
    constructor() {
        super();
        this.right = '0';
        this.shadow = this.attachShadow({ mode: 'open' });
        this.shadow.appendChild(this.ownerDocument.importNode(GITHUB_CORNERS_TEMPLATE.content, true));
        this.update();
    }
    static get observedAttributes() {
        return ['style', 'z-index', 'target', 'height', 'width', 'href', 'color', 'fill', 'position', 'top', 'left', 'right', 'bottom', 'transform'];
    }
    setAttr(name, value) {
        const svg = this.shadow.querySelector('svg');
        if (/(href)/.test(name.toLocaleLowerCase())) {
            svg.lastElementChild.setAttribute('xlink:href', value);
        }
        else if (/(color|fill)/.test(name.toLocaleLowerCase())) {
            svg.firstElementChild.style[name] = value;
        }
        else if (/(z-index|position|top|left|right|bottom|transform)/.test(name.toLocaleLowerCase())) {
            svg.style[name] = value;
        }
        else {
            svg.setAttribute(name, value);
        }
    }
    update() {
        ;
        [...this.getAttributeNames(), 'right'].forEach((name) => {
            const value = this.getAttribute(name) || this[name] || '';
            this.setAttr(name, value);
        });
    }
    attributeChangedCallback(name, oldValue, newValue) {
        if (oldValue !== newValue) {
            this.setAttr(name, newValue);
        }
    }
}
customElements.define('github-corners', GithubCorners);</script><github-corners target="__blank" position="fixed" z-index="999" href="https://github.com/marcossilvestrini/learning-kubernetes"></github-corners><dark-mode style="position: fixed; top: 8px; left: 10px; z-index: 999;" dark="Dark" light="Light" permanent="true"></dark-mode><script>const t=document;const e="_dark_mode_theme_";const s="permanent";const o="colorschemechange";const i="permanentcolorscheme";const h="light";const r="dark";const n=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){const t=this.getAttribute(e);return t===null?"":t},set(t){this.setAttribute(e,t)}})};const c=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){return this.hasAttribute(e)},set(t){if(t){this.setAttribute(e,"")}else{this.removeAttribute(e)}}})};class a extends HTMLElement{static get observedAttributes(){return["mode",h,r,s]}LOCAL_NANE=e;constructor(){super();this.t()}connectedCallback(){n(this,"mode");n(this,r);n(this,h);c(this,s);const a=localStorage.getItem(e);if(a&&[h,r].includes(a)){this.mode=a;this.permanent=true}if(this.permanent&&!a){localStorage.setItem(e,this.mode)}const l=[h,r].includes(a);if(this.permanent&&a){this.o()}else{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){this.mode=r;this.o()}if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches){this.mode=h;this.o()}}if(!this.permanent&&!l){window.matchMedia("(prefers-color-scheme: light)").onchange=t=>{this.mode=t.matches?h:r;this.o()};window.matchMedia("(prefers-color-scheme: dark)").onchange=t=>{this.mode=t.matches?r:h;this.o()}}const d=new MutationObserver(((s,h)=>{this.mode=t.documentElement.dataset.colorMode;if(this.permanent&&l){localStorage.setItem(e,this.mode);this.i(i,{permanent:this.permanent})}this.h();this.i(o,{colorScheme:this.mode})}));d.observe(t.documentElement,{attributes:true});this.i(o,{colorScheme:this.mode});this.h()}attributeChangedCallback(t,s,o){if(t==="mode"&&s!==o&&[h,r].includes(o)){const t=localStorage.getItem(e);if(this.mode===t){this.mode=o;this.h();this.o()}else if(this.mode&&this.mode!==t){this.h();this.o()}}else if((t===h||t===r)&&s!==o){this.h()}if(t==="permanent"&&typeof this.permanent==="boolean"){this.permanent?localStorage.setItem(e,this.mode):localStorage.removeItem(e)}}o(){t.documentElement.setAttribute("data-color-mode",this.mode)}h(){this.icon.textContent=this.mode===h?"🌒":"🌞";this.text.textContent=this.mode===h?this.getAttribute(r):this.getAttribute(h)}t(){var s=this.attachShadow({mode:"open"});this.label=t.createElement("span");this.label.setAttribute("class","wrapper");this.label.onclick=()=>{this.mode=this.mode===h?r:h;if(this.permanent){localStorage.setItem(e,this.mode)}this.o();this.h()};s.appendChild(this.label);this.icon=t.createElement("span");this.label.appendChild(this.icon);this.text=t.createElement("span");this.label.appendChild(this.text);const o=`
[data-color-mode*='dark'], [data-color-mode*='dark'] body {
  color-scheme: dark;
  --color-theme-bg: #0d1117;
  --color-theme-text: #c9d1d9;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}

[data-color-mode*='light'], [data-color-mode*='light'] body {
  color-scheme: light;
  --color-theme-bg: #fff;
  --color-theme-text: #24292f;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}`;const i="_dark_mode_style_";const n=t.getElementById(i);if(!n){var c=t.createElement("style");c.id=i;c.textContent=o;t.head.appendChild(c)}var a=t.createElement("style");a.textContent=`
    .wrapper { cursor: pointer; user-select: none; position: relative; }
    .wrapper > span + span { margin-left: .4rem; }
    `;s.appendChild(a)}i(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:true,composed:true,detail:e}))}}customElements.define("dark-mode",a);</script><script>const __TEMPLATE__ = document.createElement('template');
__TEMPLATE__.innerHTML = `
<style>

markdown-style h1:hover a.anchor .octicon-link:before,
markdown-style h2:hover a.anchor .octicon-link:before,
markdown-style h3:hover a.anchor .octicon-link:before,
markdown-style h4:hover a.anchor .octicon-link:before,
markdown-style h5:hover a.anchor .octicon-link:before,
markdown-style h6:hover a.anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
}
[data-color-mode*='light'], [data-color-mode*='light'] body, markdown-style[theme*='light'] { --color-prettylights-syntax-comment: #6e7781; --color-prettylights-syntax-constant: #0550ae; --color-prettylights-syntax-entity: #8250df; --color-prettylights-syntax-storage-modifier-import: #24292f; --color-prettylights-syntax-entity-tag: #116329; --color-prettylights-syntax-keyword: #cf222e; --color-prettylights-syntax-string: #0a3069; --color-prettylights-syntax-variable: #953800; --color-prettylights-syntax-brackethighlighter-unmatched: #82071e; --color-prettylights-syntax-invalid-illegal-text: #f6f8fa; --color-prettylights-syntax-invalid-illegal-bg: #82071e; --color-prettylights-syntax-carriage-return-text: #f6f8fa; --color-prettylights-syntax-carriage-return-bg: #cf222e; --color-prettylights-syntax-string-regexp: #116329; --color-prettylights-syntax-markup-list: #3b2300; --color-prettylights-syntax-markup-heading: #0550ae; --color-prettylights-syntax-markup-italic: #24292f; --color-prettylights-syntax-markup-bold: #24292f; --color-prettylights-syntax-markup-deleted-text: #82071e; --color-prettylights-syntax-markup-deleted-bg: #FFEBE9; --color-prettylights-syntax-markup-inserted-text: #116329; --color-prettylights-syntax-markup-inserted-bg: #dafbe1; --color-prettylights-syntax-markup-changed-text: #953800; --color-prettylights-syntax-markup-changed-bg: #ffd8b5; --color-prettylights-syntax-markup-ignored-text: #eaeef2; --color-prettylights-syntax-markup-ignored-bg: #0550ae; --color-prettylights-syntax-meta-diff-range: #8250df; --color-prettylights-syntax-brackethighlighter-angle: #57606a; --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f; --color-prettylights-syntax-constant-other-reference-link: #0a3069; --color-fg-default: #24292f; --color-fg-muted: #57606a; --color-fg-subtle: #6e7781; --color-canvas-default: #ffffff; --color-canvas-subtle: #f6f8fa; --color-border-default: #d0d7de; --color-border-muted: hsla(210,18%,87%,1); --color-neutral-muted: rgba(175,184,193,0.2); --color-accent-fg: #0969da; --color-accent-emphasis: #0969da; --color-attention-subtle: #fff8c5; --color-danger-fg: #cf222e; } [data-color-mode*='dark'], [data-color-mode*='dark'] body, markdown-style[theme*='dark'] { --color-prettylights-syntax-comment: #8b949e; --color-prettylights-syntax-constant: #79c0ff; --color-prettylights-syntax-entity: #d2a8ff; --color-prettylights-syntax-storage-modifier-import: #c9d1d9; --color-prettylights-syntax-entity-tag: #7ee787; --color-prettylights-syntax-keyword: #ff7b72; --color-prettylights-syntax-string: #a5d6ff; --color-prettylights-syntax-variable: #ffa657; --color-prettylights-syntax-brackethighlighter-unmatched: #f85149; --color-prettylights-syntax-invalid-illegal-text: #f0f6fc; --color-prettylights-syntax-invalid-illegal-bg: #8e1519; --color-prettylights-syntax-carriage-return-text: #f0f6fc; --color-prettylights-syntax-carriage-return-bg: #b62324; --color-prettylights-syntax-string-regexp: #7ee787; --color-prettylights-syntax-markup-list: #f2cc60; --color-prettylights-syntax-markup-heading: #1f6feb; --color-prettylights-syntax-markup-italic: #c9d1d9; --color-prettylights-syntax-markup-bold: #c9d1d9; --color-prettylights-syntax-markup-deleted-text: #ffdcd7; --color-prettylights-syntax-markup-deleted-bg: #67060c; --color-prettylights-syntax-markup-inserted-text: #aff5b4; --color-prettylights-syntax-markup-inserted-bg: #033a16; --color-prettylights-syntax-markup-changed-text: #ffdfb6; --color-prettylights-syntax-markup-changed-bg: #5a1e02; --color-prettylights-syntax-markup-ignored-text: #c9d1d9; --color-prettylights-syntax-markup-ignored-bg: #1158c7; --color-prettylights-syntax-meta-diff-range: #d2a8ff; --color-prettylights-syntax-brackethighlighter-angle: #8b949e; --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58; --color-prettylights-syntax-constant-other-reference-link: #a5d6ff; --color-fg-default: #c9d1d9; --color-fg-muted: #8b949e; --color-fg-subtle: #484f58; --color-canvas-default: #0d1117; --color-canvas-subtle: #161b22; --color-border-default: #30363d; --color-border-muted: #21262d; --color-neutral-muted: rgba(110,118,129,0.4); --color-accent-fg: #58a6ff; --color-accent-emphasis: #1f6feb; --color-attention-subtle: rgba(187,128,9,0.15); --color-danger-fg: #f85149; } markdown-style { display: block; -webkit-text-size-adjust: 100%; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"; font-size: 16px; line-height: 1.5; word-wrap: break-word; color: var(--color-fg-default); background-color: var(--color-canvas-default); } markdown-style details, markdown-style figcaption, markdown-style figure { display: block; } markdown-style summary { display: list-item; } markdown-style [hidden] { display: none !important; } markdown-style a { background-color: transparent; color: var(--color-accent-fg); text-decoration: none; } markdown-style a:active, markdown-style a:hover { outline-width: 0; } markdown-style abbr[title] { border-bottom: none; text-decoration: underline dotted; } markdown-style b, markdown-style strong { font-weight: 600; } markdown-style dfn { font-style: italic; } markdown-style h1 { margin: .67em 0; font-weight: 600; padding-bottom: .3em; font-size: 2em; border-bottom: 1px solid var(--color-border-muted); } markdown-style mark { background-color: var(--color-attention-subtle); color: var(--color-text-primary); } markdown-style small { font-size: 90%; } markdown-style sub, markdown-style sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } markdown-style sub { bottom: -0.25em; } markdown-style sup { top: -0.5em; } markdown-style img { border-style: none; max-width: 100%; box-sizing: content-box; background-color: var(--color-canvas-default); } markdown-style code, markdown-style kbd, markdown-style pre, markdown-style samp { font-family: monospace,monospace; font-size: 1em; } markdown-style figure { margin: 1em 40px; } markdown-style hr { box-sizing: content-box; overflow: hidden; background: transparent; border-bottom: 1px solid var(--color-border-muted); height: .25em; padding: 0; margin: 24px 0; background-color: var(--color-border-default); border: 0; } markdown-style input { font: inherit; margin: 0; overflow: visible; font-family: inherit; font-size: inherit; line-height: inherit; } markdown-style [type=button], markdown-style [type=reset], markdown-style [type=submit] { -webkit-appearance: button; } markdown-style [type=button]::-moz-focus-inner, markdown-style [type=reset]::-moz-focus-inner, markdown-style [type=submit]::-moz-focus-inner { border-style: none; padding: 0; } markdown-style [type=button]:-moz-focusring, markdown-style [type=reset]:-moz-focusring, markdown-style [type=submit]:-moz-focusring { outline: 1px dotted ButtonText; } markdown-style [type=checkbox], markdown-style [type=radio] { box-sizing: border-box; padding: 0; } markdown-style [type=number]::-webkit-inner-spin-button, markdown-style [type=number]::-webkit-outer-spin-button { height: auto; } markdown-style [type=search] { -webkit-appearance: textfield; outline-offset: -2px; } markdown-style [type=search]::-webkit-search-cancel-button, markdown-style [type=search]::-webkit-search-decoration { -webkit-appearance: none; } markdown-style ::-webkit-input-placeholder { color: inherit; opacity: .54; } markdown-style ::-webkit-file-upload-button { -webkit-appearance: button; font: inherit; } markdown-style a:hover { text-decoration: underline; } markdown-style hr::before { display: table; content: ""; } markdown-style hr::after { display: table; clear: both; content: ""; } markdown-style table { border-spacing: 0; border-collapse: collapse; display: block; width: max-content; max-width: 100%; overflow: auto; } markdown-style td, markdown-style th { padding: 0; } markdown-style details summary { cursor: pointer; } markdown-style details:not([open])>*:not(summary) { display: none !important; } markdown-style kbd { display: inline-block; padding: 3px 5px; font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; line-height: 10px; color: var(--color-fg-default); vertical-align: middle; background-color: var(--color-canvas-subtle); border: solid 1px var(--color-neutral-muted); border-bottom-color: var(--color-neutral-muted); border-radius: 6px; box-shadow: inset 0 -1px 0 var(--color-neutral-muted); } markdown-style h1, markdown-style h2, markdown-style h3, markdown-style h4, markdown-style h5, markdown-style h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; } markdown-style h2 { font-weight: 600; padding-bottom: .3em; font-size: 1.5em; border-bottom: 1px solid var(--color-border-muted); } markdown-style h3 { font-weight: 600; font-size: 1.25em; } markdown-style h4 { font-weight: 600; font-size: 1em; } markdown-style h5 { font-weight: 600; font-size: .875em; } markdown-style h6 { font-weight: 600; font-size: .85em; color: var(--color-fg-muted); } markdown-style p { margin-top: 0; margin-bottom: 10px; } markdown-style blockquote { margin: 0; padding: 0 1em; color: var(--color-fg-muted); border-left: .25em solid var(--color-border-default); } markdown-style ul, markdown-style ol { margin-top: 0; margin-bottom: 0; padding-left: 2em; } markdown-style ol ol, markdown-style ul ol { list-style-type: lower-roman; } markdown-style ul ul ol, markdown-style ul ol ol, markdown-style ol ul ol, markdown-style ol ol ol { list-style-type: lower-alpha; } markdown-style dd { margin-left: 0; } markdown-style tt, markdown-style code { font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; } markdown-style pre { margin-top: 0; margin-bottom: 0; font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; word-wrap: normal; } markdown-style .octicon { display: inline-block; overflow: visible !important; vertical-align: text-bottom; fill: currentColor; } markdown-style ::placeholder { color: var(--color-fg-subtle); opacity: 1; } markdown-style input::-webkit-outer-spin-button, markdown-style input::-webkit-inner-spin-button { margin: 0; -webkit-appearance: none; appearance: none; }
markdown-style .token.comment, markdown-style .token.prolog, markdown-style .token.doctype, markdown-style .token.cdata { color: var(--color-prettylights-syntax-comment); } markdown-style .token.namespace { opacity: 0.7; } markdown-style .token.tag, markdown-style .token.selector, markdown-style .token.constant, markdown-style .token.symbol, markdown-style .token.deleted { color: var(--color-prettylights-syntax-entity-tag); } markdown-style .token.maybe-class-name { color: var(--color-prettylights-syntax-variable); } markdown-style .token.property-access, markdown-style .token.operator, markdown-style .token.boolean, markdown-style .token.number, markdown-style .token.selector markdown-style .token.class, markdown-style .token.attr-name, markdown-style .token.string, markdown-style .token.char, markdown-style .token.builtin { color: var(--color-prettylights-syntax-constant); } markdown-style .token.deleted { color: var(--color-prettylights-syntax-markup-deleted-text); } markdown-style .token.property { color: var(--color-prettylights-syntax-constant); } markdown-style .token.punctuation { color: var(--color-prettylights-syntax-markup-bold); } markdown-style .token.function { color: var(--color-prettylights-syntax-entity); } markdown-style .code-line .token.deleted { background-color: var(--color-prettylights-syntax-markup-deleted-bg); } markdown-style .token.inserted { color: var(--color-prettylights-syntax-markup-inserted-text); } markdown-style .code-line .token.inserted { background-color: var(--color-prettylights-syntax-markup-inserted-bg); } markdown-style .token.variable { color: var(--color-prettylights-syntax-constant); } markdown-style .token.entity, markdown-style .token.url, .language-css markdown-style .token.string, .style markdown-style .token.string { color: var(--color-prettylights-syntax-string); } markdown-style .token.color, markdown-style .token.atrule, markdown-style .token.attr-value, markdown-style .token.function, markdown-style .token.class-name { color: var(--color-prettylights-syntax-string); } markdown-style .token.rule, markdown-style .token.regex, markdown-style .token.important, markdown-style .token.keyword { color: var(--color-prettylights-syntax-keyword); } markdown-style .token.coord { color: var(--color-prettylights-syntax-meta-diff-range); } markdown-style .token.important, markdown-style .token.bold { font-weight: bold; } markdown-style .token.italic { font-style: italic; } markdown-style .token.entity { cursor: help; }
markdown-style [data-catalyst] { display: block; } markdown-style g-emoji { font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; font-size: 1em; font-style: normal !important; font-weight: 400; line-height: 1; vertical-align: -0.075em; } markdown-style g-emoji img { width: 1em; height: 1em; } markdown-style::before { display: table; content: ""; } markdown-style::after { display: table; clear: both; content: ""; } markdown-style>*:first-child { margin-top: 0 !important; } markdown-style>*:last-child { margin-bottom: 0 !important; } markdown-style a:not([href]) { color: inherit; text-decoration: none; } markdown-style .absent { color: var(--color-danger-fg); } markdown-style a.anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1; } markdown-style a.anchor:focus { outline: none; } markdown-style p, markdown-style blockquote, markdown-style ul, markdown-style ol, markdown-style dl, markdown-style table, markdown-style pre, markdown-style details { margin-top: 0; margin-bottom: 16px; } markdown-style blockquote>:first-child { margin-top: 0; } markdown-style blockquote>:last-child { margin-bottom: 0; } markdown-style sup>a::before { content: "["; } markdown-style sup>a::after { content: "]"; }
markdown-style .octicon-video { border: 1px solid #d0d7de !important; border-radius: 6px !important; display: block; } markdown-style .octicon-video summary { border-bottom: 1px solid #d0d7de !important; padding: 8px 16px !important; cursor: pointer; } markdown-style .octicon-video > video { display: block !important; max-width: 100% !important; padding: 2px; box-sizing: border-box; border-bottom-right-radius: 6px !important; border-bottom-left-radius: 6px !important; } markdown-style details.octicon-video:not([open])>*:not(summary) { display: none !important; } markdown-style details.octicon-video:not([open]) > summary { border-bottom: 0 !important; } markdown-style h1 .octicon-link, markdown-style h2 .octicon-link, markdown-style h3 .octicon-link, markdown-style h4 .octicon-link, markdown-style h5 .octicon-link, markdown-style h6 .octicon-link { color: var(--color-fg-default); vertical-align: middle; visibility: hidden; } markdown-style h1:hover .anchor, markdown-style h2:hover .anchor, markdown-style h3:hover .anchor, markdown-style h4:hover .anchor, markdown-style h5:hover .anchor, markdown-style h6:hover .anchor { text-decoration: none; } markdown-style h1:hover .anchor .octicon-link, markdown-style h2:hover .anchor .octicon-link, markdown-style h3:hover .anchor .octicon-link, markdown-style h4:hover .anchor .octicon-link, markdown-style h5:hover .anchor .octicon-link, markdown-style h6:hover .anchor .octicon-link { visibility: visible; } markdown-style h1 tt, markdown-style h1 code, markdown-style h2 tt, markdown-style h2 code, markdown-style h3 tt, markdown-style h3 code, markdown-style h4 tt, markdown-style h4 code, markdown-style h5 tt, markdown-style h5 code, markdown-style h6 tt, markdown-style h6 code { padding: 0 .2em; font-size: inherit; } markdown-style ul.no-list, markdown-style ol.no-list { padding: 0; list-style-type: none; } markdown-style ol[type="1"] { list-style-type: decimal; } markdown-style ol[type=a] { list-style-type: lower-alpha; } markdown-style ol[type=i] { list-style-type: lower-roman; } markdown-style div>ol:not([type]) { list-style-type: decimal; } markdown-style ul ul, markdown-style ul ol, markdown-style ol ol, markdown-style ol ul { margin-top: 0; margin-bottom: 0; } markdown-style li>p { margin-top: 16px; } markdown-style li+li { margin-top: .25em; } markdown-style dl { padding: 0; } markdown-style dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600; } markdown-style dl dd { padding: 0 16px; margin-bottom: 16px; } markdown-style table th { font-weight: 600; } markdown-style table th, markdown-style table td { padding: 6px 13px; border: 1px solid var(--color-border-default); } markdown-style table tr { background-color: var(--color-canvas-default); border-top: 1px solid var(--color-border-muted); } markdown-style table tr:nth-child(2n) { background-color: var(--color-canvas-subtle); } markdown-style table img { background-color: transparent; vertical-align: middle; } markdown-style img[align=right] { padding-left: 20px; } markdown-style img[align=left] { padding-right: 20px; } markdown-style .emoji { max-width: none; vertical-align: text-top; background-color: transparent; } markdown-style span.frame { display: block; overflow: hidden; } markdown-style span.frame>span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0 0; overflow: hidden; border: 1px solid var(--color-border-default); } markdown-style span.frame span img { display: block; float: left; } markdown-style span.frame span span { display: block; padding: 5px 0 0; clear: both; color: var(--color-fg-default); } markdown-style span.align-center { display: block; overflow: hidden; clear: both; } markdown-style span.align-center>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: center; } markdown-style span.align-center span img { margin: 0 auto; text-align: center; } markdown-style span.align-right { display: block; overflow: hidden; clear: both; } markdown-style span.align-right>span { display: block; margin: 13px 0 0; overflow: hidden; text-align: right; } markdown-style span.align-right span img { margin: 0; text-align: right; } markdown-style span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; } markdown-style span.float-left span { margin: 13px 0 0; } markdown-style span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; } markdown-style span.float-right>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: right; } markdown-style code, markdown-style tt { padding: .2em .4em; margin: 0; font-size: 85%; background-color: var(--color-neutral-muted); border-radius: 6px; } markdown-style code br, markdown-style tt br { display: none; } markdown-style del code { text-decoration: inherit; } markdown-style pre code { font-size: 100%; } markdown-style pre>code { padding: 0; margin: 0; word-break: normal; white-space: pre; background: transparent; border: 0; } markdown-style pre { position: relative; font-size: 85%; line-height: 1.45; background-color: var(--color-canvas-subtle); border-radius: 6px; } markdown-style pre code, markdown-style pre tt { display: inline; max-width: auto; padding: 0; margin: 0; overflow: visible; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0; } markdown-style pre > code { padding: 16px; overflow: auto; display: block; } markdown-style .csv-data td, markdown-style .csv-data th { padding: 5px; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; } markdown-style .csv-data .blob-num { padding: 10px 8px 9px; text-align: right; background: var(--color-canvas-default); border: 0; } markdown-style .csv-data tr { border-top: 0; } markdown-style .csv-data th { font-weight: 600; background: var(--color-canvas-subtle); border-top: 0; } markdown-style .footnotes { font-size: 12px; color: var(--color-fg-muted); border-top: 1px solid var(--color-border-default); } markdown-style .footnotes ol { padding-left: 16px; } markdown-style .footnotes li { position: relative; } markdown-style .footnotes li:target::before { position: absolute; top: -8px; right: -8px; bottom: -8px; left: -24px; pointer-events: none; content: ""; border: 2px solid var(--color-accent-emphasis); border-radius: 6px; } markdown-style .footnotes li:target { color: var(--color-fg-default); } markdown-style .footnotes .data-footnote-backref g-emoji { font-family: monospace; } markdown-style .task-list-item { list-style-type: none; } markdown-style .task-list-item label { font-weight: 400; } markdown-style .task-list-item.enabled label { cursor: pointer; } markdown-style .task-list-item+.task-list-item { margin-top: 3px; } markdown-style .task-list-item .handle { display: none; } markdown-style .task-list-item-checkbox, markdown-style input[type="checkbox"] { margin: 0 .2em .25em -1.6em; vertical-align: middle; } markdown-style .contains-task-list:dir(rtl) .task-list-item-checkbox, markdown-style .contains-task-list:dir(rtl) input[type="checkbox"] { margin: 0 -1.6em .25em .2em; } markdown-style ::-webkit-calendar-picker-indicator { filter: invert(50%); }
</style>
<slot></slot>
`;
class MarkdownStyle extends HTMLElement {
    constructor() {
        super();
        this.shadow = this.attachShadow({ mode: 'open' });
        this.shadow.appendChild(__TEMPLATE__.content.cloneNode(true));
        const style = Array.prototype.slice
            .call(this.shadow.children)
            .find((item) => item.tagName === 'STYLE');
        if (style) {
            const id = '__MARKDOWN_STYLE__';
            const findStyle = document.getElementById(id);
            if (!findStyle) {
                style.id = id;
                document.head.append(style);
            }
        }
    }
    get theme() {
        const value = this.getAttribute('theme');
        return value === null ? '' : value;
    }
    set theme(name) {
        this.setAttribute('theme', name);
    }
    connectedCallback() {
        if (!this.theme) {
            const { colorMode } = document.documentElement.dataset;
            this.theme = colorMode;
            const observer = new MutationObserver((mutationsList, observer) => {
                this.theme = document.documentElement.dataset.colorMode;
            });
            observer.observe(document.documentElement, { attributes: true });
            window.matchMedia('(prefers-color-scheme: light)').onchange = (event) => {
                this.theme = event.matches ? 'light' : 'dark';
            };
            window.matchMedia('(prefers-color-scheme: dark)').onchange = (event) => {
                this.theme = event.matches ? 'dark' : 'light';
            };
        }
    }
}
customElements.define('markdown-style', MarkdownStyle);</script><markdown-style style="max-width: 960px; margin: 0 auto 60px auto; padding: 8px;" class="markdown-style">
    <h1 id=""><a class="anchor" name="readme-top"><span class="octicon octicon-link"></span></a></h1>
    <p>
      <a href="https://github.com/marcossilvestrini/learning-kubernetes/actions/workflows/powershell.yml"><img src="https://github.com/marcossilvestrini/learning-kubernetes/actions/workflows/powershell.yml/badge.svg" alt="PSScriptAnalyzer"></a>
      <a href="https://github.com/marcossilvestrini/learning-kubernetes/actions/workflows/release.yml"><img src="https://github.com/marcossilvestrini/learning-kubernetes/actions/workflows/release.yml/badge.svg" alt="Release"></a>
    </p>
    <p>
      <a href="https://github.com/marcossilvestrini/learning-kubernetes/blob/master/LICENSE"><img src="https://img.shields.io/github/license/marcossilvestrini/learning-kubernetes.svg?style=for-the-badge" alt="MIT License"></a>
      <a href="https://github.com/marcossilvestrini/learning-kubernetes/network/members"><img src="https://img.shields.io/github/forks/marcossilvestrini/learning-kubernetes.svg?style=for-the-badge" alt="Forks"></a>
      <a href="https://github.com/marcossilvestrini/learning-kubernetes/stargazers"><img src="https://img.shields.io/github/stars/marcossilvestrini/learning-kubernetes.svg?style=for-the-badge" alt="Stargazers"></a>
      <a href="https://github.com/marcossilvestrini/learning-kubernetes/graphs/contributors"><img src="https://img.shields.io/github/contributors/marcossilvestrini/learning-kubernetes.svg?style=for-the-badge" alt="Contributors"></a>
      <a href="https://github.com/marcossilvestrini/learning-kubernetes/issues"><img src="https://img.shields.io/github/issues/marcossilvestrini/learning-kubernetes.svg?style=for-the-badge" alt="Issues"></a>
      <a href="https://linkedin.com/in/marcossilvestrini"><img src="https://img.shields.io/badge/-LinkedIn-black.svg?style=for-the-badge&#x26;logo=linkedin&#x26;colorB=555" alt="LinkedIn"></a>
    </p>
    <h1 id="learning-kubernetes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#learning-kubernetes"><span class="octicon octicon-link"></span></a>LEARNING KUBERNETES</h1>
    <p>
      <img src="images/kubernetes.jpg" alt="kubernetes Arch">
    </p>
    <p>
      <img src="/images/k8s-cluster.png" alt="Kubernetes Cluster">
    </p>
    <p align="center">
      <strong>Explore the docs »</strong><br><a href="https://marcossilvestrini.github.io/learning-kubernetes/">Main Page</a>
      -
      <a href="https://github.com/marcossilvestrini/learning-kubernetes">Code Page</a>
      -
      <a href="https://github.com/marcossilvestrini/learning-kubernetes/issues">Report Bug</a>
      -
      <a href="https://github.com/marcossilvestrini/learning-kubernetes/issues">Request Feature</a>
    </p>
    <h2 id="summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#summary"><span class="octicon octicon-link"></span></a>Summary</h2>
    <details>
      <summary><b>TABLE OF CONTENT</b></summary>
      <ol>
        <li><a href="#about-the-project">About The Project</a></li>
        <li><a href="#getting-started">Getting Started</a>
          <ul>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#installation">Installation</a></li>
          </ul>
        </li>
        <li><a href="#usage">Usage</a></li>
        <li><a href="#roadmap">Roadmap</a></li>
        <li><a href="#linux-namespaces">Linux Namespaces</a></li>
        <li><a href="#kubernetes-architecture">Kubernetes Architecture</a></li>
        <li><a href="#install-kubernetes">Install Kubernetes</a></li>
        <li><a href="#rke2">Rancher RKE2</a></li>
        <li><a href="#kubectl">Kubectl</a></li>
        <li><a href="#containers">Containers</a></li>
        <li><a href="#pods">Pods</a></li>
        <li><a href="#deployment">Deployment</a></li>
        <li><a href="#replicaset">Replicaset</a></li>
        <li><a href="#daemonset">Daemonset</a></li>
        <li><a href="#probes">Probes</a></li>
        <li><a href="#volumes">Volumes</a></li>
        <li><a href="#statefulset">Statefulset</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#secrets">Secrets</a></li>
        <li><a href="#license">License</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="#acknowledgments">Acknowledgments</a></li>
      </ol>
    </details><br>
    <p><a name="about-the-project"></a></p>
    <h2 id="about-project"><a class="anchor" aria-hidden="true" tabindex="-1" href="#about-project"><span class="octicon octicon-link"></span></a>About Project</h2>
    <blockquote>
      <p>This project aims to help students or professionals to learn the main concepts of kubernetes</p>
    </blockquote>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <p><a name="getting-started"></a></p>
    <h2 id="getting-started"><a class="anchor" aria-hidden="true" tabindex="-1" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>
    <p>
      This is an example of how you may give instructions on setting up your project locally.
      To get a local copy up and running follow these simple example steps.
    </p>
    <p><a name="prerequisites"></a></p>
    <h3 id="prerequisites"><a class="anchor" aria-hidden="true" tabindex="-1" href="#prerequisites"><span class="octicon octicon-link"></span></a>Prerequisites</h3>
    <p>
      This is an example of how to list things you need to use the software
      and how to install them.
    </p>
    <ul>
      <li>git</li>
      <li>Virtual Box and extension</li>
      <li>Vagrant</li>
    </ul>
    <p><a name="installation"></a></p>
    <h3 id="installation"><a class="anchor" aria-hidden="true" tabindex="-1" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h3>
    <h4 id="clone-repository"><a class="anchor" aria-hidden="true" tabindex="-1" href="#clone-repository"><span class="octicon octicon-link"></span></a>Clone repository</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">git</span> clone https://github.com/marcossilvestrini/learning-kubernetes.git
</span></code><div onclick="copied(this)" data-code="git clone https://github.com/marcossilvestrini/learning-kubernetes.git
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="set-ssh-keys-in-security-folder"><a class="anchor" aria-hidden="true" tabindex="-1" href="#set-ssh-keys-in-security-folder"><span class="octicon octicon-link"></span></a>Set ssh keys in security folder</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># generate ssh key pair for your user access hosts</span>
</span><span class="code-line line-number" line="2">ssh-keygen <span class="token parameter variable">-q</span> <span class="token parameter variable">-t</span> ecdsa <span class="token parameter variable">-b</span> <span class="token number">521</span> <span class="token parameter variable">-N</span> <span class="token string">''</span> <span class="token parameter variable">-f</span> ~/.ssh/id_ecdsa <span class="token operator">&#x3C;&#x3C;&#x3C;</span>y <span class="token operator">></span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&#x26;1</span>
</span><span class="code-line line-number" line="3"><span class="token function">cp</span> ~/.ssh/id_ecdsa.pub security/
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># generate ssh key pair for rancher</span>
</span><span class="code-line line-number" line="6">ssh-keygen <span class="token parameter variable">-q</span> <span class="token parameter variable">-t</span> ecdsa <span class="token parameter variable">-b</span> <span class="token number">521</span> <span class="token parameter variable">-N</span> <span class="token string">''</span> <span class="token parameter variable">-f</span> security/kubernetes-key-ecdsa <span class="token operator">&#x3C;&#x3C;&#x3C;</span>y <span class="token operator">></span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&#x26;1</span>
</span></code><div onclick="copied(this)" data-code="# generate ssh key pair for your user access hosts
ssh-keygen -q -t ecdsa -b 521 -N &#x27;&#x27; -f ~/.ssh/id_ecdsa <<<y >/dev/null 2>&#x26;1
cp ~/.ssh/id_ecdsa.pub security/

# generate ssh key pair for rancher
ssh-keygen -q -t ecdsa -b 521 -N &#x27;&#x27; -f security/kubernetes-key-ecdsa <<<y >/dev/null 2>&#x26;1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="set-node-pool"><a class="anchor" aria-hidden="true" tabindex="-1" href="#set-node-pool"><span class="octicon octicon-link"></span></a>Set Node pool</h4>
    <p>You can scale dow or up number of control planes and workers in Vagrantfile array.</p>
    <p>Example:</p>
    <pre class="language-ruby"><code class="language-ruby code-highlight"><span class="code-line line-number" line="1"><span class="token operator">...</span>
</span><span class="code-line line-number" line="2"> <span class="token comment"># Node|Control Plane Servers</span>
</span><span class="code-line line-number" line="3">  <span class="token constant">PLANES</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"control-plane01"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"control-plane02"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"control-plane03"</span></span><span class="token punctuation">]</span>
</span><span class="code-line line-number" line="4">  <span class="token constant">N</span> <span class="token operator">=</span> <span class="token number">2</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6">  <span class="token punctuation">(</span><span class="token number">0.</span><span class="token punctuation">.</span><span class="token constant">N</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>i<span class="token operator">|</span>
</span><span class="code-line line-number" line="7">    config<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>define <span class="token constant">PLANES</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">do</span> <span class="token operator">|</span>node<span class="token operator">|</span>
</span><span class="code-line line-number" line="8"><span class="token operator">...</span>
</span></code><div onclick="copied(this)" data-code="...
 # Node|Control Plane Servers
  PLANES = [&#x22;control-plane01&#x22;, &#x22;control-plane02&#x22;, &#x22;control-plane03&#x22;]
  N = 2

  (0..N).each do |i|
    config.vm.define PLANES[i] do |node|
...
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="set-network"><a class="anchor" aria-hidden="true" tabindex="-1" href="#set-network"><span class="octicon octicon-link"></span></a>Set network</h4>
    <p>Set network configuration for each VM in Vagrantfile.</p>
    <p>Example:</p>
    <pre class="language-ruby"><code class="language-ruby code-highlight"><span class="code-line line-number" line="1"><span class="token operator">...</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># NETWORK</span>
</span><span class="code-line line-number" line="3">    ol9_server01<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>network <span class="token string-literal"><span class="token string">"public_network"</span></span><span class="token punctuation">,</span> <span class="token symbol">nic_type</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">"virtio"</span></span><span class="token punctuation">,</span> <span class="token symbol">mac</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">"080027f3066a"</span></span><span class="token punctuation">,</span> <span class="token symbol">ip</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">"192.168.0.130"</span></span><span class="token punctuation">,</span> <span class="token symbol">netmask</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">"255.255.255.0"</span></span><span class="token punctuation">,</span> <span class="token symbol">mode</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">"bridge"</span></span><span class="token punctuation">,</span><span class="token symbol">bridge</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line line-number" line="4">      <span class="token string-literal"><span class="token string">"Intel(R) I211 Gigabit Network Connection"</span></span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">      <span class="token string-literal"><span class="token string">"MediaTek Wi-Fi 6 MT7921 Wireless LAN"</span></span>
</span><span class="code-line line-number" line="6">    <span class="token punctuation">]</span>
</span><span class="code-line line-number" line="7"><span class="token operator">...</span>    
</span></code><div onclick="copied(this)" data-code="...
# NETWORK
    ol9_server01.vm.network &#x22;public_network&#x22;, nic_type: &#x22;virtio&#x22;, mac: &#x22;080027f3066a&#x22;, ip: &#x22;192.168.0.130&#x22;, netmask: &#x22;255.255.255.0&#x22;, mode: &#x22;bridge&#x22;,bridge: [
      &#x22;Intel(R) I211 Gigabit Network Connection&#x22;,
      &#x22;MediaTek Wi-Fi 6 MT7921 Wireless LAN&#x22;
    ]
...    
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="set-vms-resources"><a class="anchor" aria-hidden="true" tabindex="-1" href="#set-vms-resources"><span class="octicon octicon-link"></span></a>Set VM's resources</h4>
    <p>Set resource configuration as CPU, Memory,etc for each VM in Vagrantfile.</p>
    <p>Example:</p>
    <pre class="language-ruby"><code class="language-ruby code-highlight"><span class="code-line line-number" line="1"><span class="token operator">...</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># PROVIDER</span>
</span><span class="code-line line-number" line="3">infra_server01<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>provider <span class="token string-literal"><span class="token string">"virtualbox"</span></span> <span class="token keyword">do</span> <span class="token operator">|</span>vb<span class="token operator">|</span>
</span><span class="code-line line-number" line="4">    vb<span class="token punctuation">.</span>linked_clone <span class="token operator">=</span> <span class="token boolean">true</span>
</span><span class="code-line line-number" line="5">    vb<span class="token punctuation">.</span>name <span class="token operator">=</span><span class="token constant">VM_INFRA_SERVER01</span>
</span><span class="code-line line-number" line="6">    vb<span class="token punctuation">.</span>memory <span class="token operator">=</span> <span class="token number">2048</span>
</span><span class="code-line line-number" line="7">    vb<span class="token punctuation">.</span>cpus <span class="token operator">=</span> <span class="token number">1</span>
</span><span class="code-line line-number" line="8"><span class="token keyword">end</span>
</span><span class="code-line line-number" line="9"><span class="token operator">...</span>  
</span></code><div onclick="copied(this)" data-code="...
# PROVIDER
infra_server01.vm.provider &#x22;virtualbox&#x22; do |vb|
    vb.linked_clone = true
    vb.name =VM_INFRA_SERVER01
    vb.memory = 2048
    vb.cpus = 1
end
...  
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="up-kubernetes-cluster"><a class="anchor" aria-hidden="true" tabindex="-1" href="#up-kubernetes-cluster"><span class="octicon octicon-link"></span></a>Up kubernetes cluster</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">cd</span> learning-kubernetes/vagrant/linux
</span><span class="code-line line-number" line="2">vagrant up
</span></code><div onclick="copied(this)" data-code="cd learning-kubernetes/vagrant/linux
vagrant up
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><a name="usage"></a></p>
    <h2 id="usage"><a class="anchor" aria-hidden="true" tabindex="-1" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>
    <p>Use this repository for get learning about kubernetes exam</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <p><a name="roadmap"></a></p>
    <h2 id="roadmap"><a class="anchor" aria-hidden="true" tabindex="-1" href="#roadmap"><span class="octicon octicon-link"></span></a>Roadmap</h2>
    <ul class="contains-task-list">
      <li class="task-list-item"><input type="checkbox" checked disabled> Create repository</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Create github action for automation tasks</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Install kubernetes cluster</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Install kubectl</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Add kubernetes examples</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Add app deployment</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Create docker image with project contents</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Create github action for build docker image</li>
    </ul>
    <p align="right">(<a href="#roadmap">back to roadmap</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <p><a name="linux-namespaces"></a></p>
    <h2 id="linux-namespaces"><a class="anchor" aria-hidden="true" tabindex="-1" href="#linux-namespaces"><span class="octicon octicon-link"></span></a>Linux Namespaces</h2>
    <p>kubernetes Engine work with namespaces(PID,NET,IPC,MNT,UTS) and cgroups.</p>
    <p>
      <img src="images/linux-namespaces.png" alt="linux-namespaces">
    </p>
    <h2 id="pid"><a class="anchor" aria-hidden="true" tabindex="-1" href="#pid"><span class="octicon octicon-link"></span></a>pid</h2>
    <p>The Process ID. This file is a handle for the PID namespace of the process.PID namespaces isolate the process ID number space, meaning that processes in different PID namespaces can have the same PID. PID namespaces allow containers to provide functionality such as suspending/resuming the set of processes in the container and migrating the container to a new host while the processes inside the container maintain the same PIDs</p>
    <h2 id="net"><a class="anchor" aria-hidden="true" tabindex="-1" href="#net"><span class="octicon octicon-link"></span></a>net</h2>
    <p>
      This file is a handle for the network namespace of the process. This provides the isolation of the system resources associated with networking and isolates Network devices. The ip netns - is used to process network namespace management
      mount This file is a handle for the mount namespace of the process and isolates Mount points
    </p>
    <h2 id="ipc"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ipc"><span class="octicon octicon-link"></span></a>ipc</h2>
    <p>This file is a handle for the IPC namespace of the process and isolates System Vs IPC and POSIX message queues</p>
    <h2 id="uts"><a class="anchor" aria-hidden="true" tabindex="-1" href="#uts"><span class="octicon octicon-link"></span></a>uts</h2>
    <p>This file is a handle for the UTS namespace of the process and isolates Hostname and NIS domain name</p>
    <h2 id="user"><a class="anchor" aria-hidden="true" tabindex="-1" href="#user"><span class="octicon octicon-link"></span></a>user</h2>
    <p>This file is a handle for the user namespace of the process</p>
    <h2 id="cgroup"><a class="anchor" aria-hidden="true" tabindex="-1" href="#cgroup"><span class="octicon octicon-link"></span></a>cgroup</h2>
    <p>the container will have an isolated view of the cgroup hierarchy.</p>
    <h2 id="cgroup-vs-namespace"><a class="anchor" aria-hidden="true" tabindex="-1" href="#cgroup-vs-namespace"><span class="octicon octicon-link"></span></a>cgroup vs namespace</h2>
    <p><em>cgroup is a way to control group based traffic control filter, example</em></p>
    <pre class="language-json"><code class="language-json code-highlight"><span class="code-line line-number" line="1"><span class="token property">"cgroupsPath"</span><span class="token operator">:</span> <span class="token string">"/myRuntime/myContainer"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="2">    <span class="token property">"resources"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">        <span class="token property">"memory"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">        <span class="token property">"limit"</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">        <span class="token property">"reservation"</span><span class="token operator">:</span> <span class="token number">200000</span>
</span><span class="code-line line-number" line="6">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">        <span class="token property">"devices"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line line-number" line="8">            <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">                <span class="token property">"allow"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">                <span class="token property">"access"</span><span class="token operator">:</span> <span class="token string">"rwm"</span>
</span><span class="code-line line-number" line="11">            <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12">        <span class="token punctuation">]</span>
</span><span class="code-line line-number" line="13">   <span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="&#x22;cgroupsPath&#x22;: &#x22;/myRuntime/myContainer&#x22;,
    &#x22;resources&#x22;: {
        &#x22;memory&#x22;: {
        &#x22;limit&#x22;: 100000,
        &#x22;reservation&#x22;: 200000
        },
        &#x22;devices&#x22;: [
            {
                &#x22;allow&#x22;: false,
                &#x22;access&#x22;: &#x22;rwm&#x22;
            }
        ]
   }
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><em>namespace: Limit/abstraction what you can see in linux proc</em></p>
    <p>Font: <a href="https://8gwifi.org/docs/linux-namespace.jsp">https://8gwifi.org/docs/linux-namespace.jsp</a></p>
    <p align="right">(<a href="#linux-namespaces">back to linux-namespaces</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="kubernetes-architecture"><a class="anchor" aria-hidden="true" tabindex="-1" href="#kubernetes-architecture"><span class="octicon octicon-link"></span></a>Kubernetes Architecture</h2>
    <p><a name="kubernetes-architecture"></a></p>
    <p>
      <img src="images/kubernetes-architecture.jpg" alt="Kubernetes Architecture">
    </p>
    <h3 id="control-plane"><a class="anchor" aria-hidden="true" tabindex="-1" href="#control-plane"><span class="octicon octicon-link"></span></a>Control Plane</h3>
    <p>
      <img src="images/control-plane.jpg" alt="Control Plane">
    </p>
    <h3 id="node"><a class="anchor" aria-hidden="true" tabindex="-1" href="#node"><span class="octicon octicon-link"></span></a>Node</h3>
    <p>
      <img src="images/worker.jpg" alt="Control Plane">
    </p>
    <h3 id="kubernetes-ports"><a class="anchor" aria-hidden="true" tabindex="-1" href="#kubernetes-ports"><span class="octicon octicon-link"></span></a>Kubernetes ports</h3>
    <p>
      <img src="images/kubernetes-cp-ports.jpg" alt="kubernetes control plane ports">
    </p>
    <p>
      <img src="images/kubernetes-wk-ports.jpg" alt="kubernetes works ports">
    </p>
    <h3 id="ports-for-rancher-server-nodes-on-rke2"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ports-for-rancher-server-nodes-on-rke2"><span class="octicon octicon-link"></span></a>Ports for Rancher Server Nodes on RKE2</h3>
    <p>
      <img src="images/rke2-ports.png" alt="RKE2 Ports">
    </p>
    <p align="right">(<a href="#kubernetes-architecture">back to kubernetes-architecture</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="install-kubernetes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#install-kubernetes"><span class="octicon octicon-link"></span></a>Install kubernetes</h2>
    <p><a name="install-kubernetes"></a></p>
    <h3 id="minikube"><a class="anchor" aria-hidden="true" tabindex="-1" href="#minikube"><span class="octicon octicon-link"></span></a>Minikube</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># install</span>
</span><span class="code-line line-number" line="2"><span class="token function">curl</span> <span class="token parameter variable">-Lo</span> minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
</span><span class="code-line line-number" line="3"><span class="token function">chmod</span> +x ./minikube
</span><span class="code-line line-number" line="4"><span class="token function">sudo</span> <span class="token function">mv</span> ./minikube /usr/local/bin/minikube
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment"># get version</span>
</span><span class="code-line line-number" line="7">minikube version
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment"># set hypervisor</span>
</span><span class="code-line line-number" line="10">minikube config <span class="token builtin class-name">set</span> driver <span class="token operator">&#x3C;</span>YOUR_HYPERVISOR<span class="token operator">></span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># up without hypervisor</span>
</span><span class="code-line line-number" line="13">minikube start <span class="token parameter variable">--driver</span><span class="token operator">=</span>hyperkit
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># create cluster</span>
</span><span class="code-line line-number" line="16">minikube start <span class="token parameter variable">--nodes</span> <span class="token number">3</span> <span class="token parameter variable">-p</span> multinode-cluster
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># get status of cluster</span>
</span><span class="code-line line-number" line="19">minikube status
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># get ip address</span>
</span><span class="code-line line-number" line="22">minikube <span class="token function">ip</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment"># access minikube host</span>
</span><span class="code-line line-number" line="25">minikube <span class="token function">ssh</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># dashboard</span>
</span><span class="code-line line-number" line="28">minikube dashboard
</span><span class="code-line line-number" line="29">
</span><span class="code-line line-number" line="30"><span class="token comment"># logs</span>
</span><span class="code-line line-number" line="31">minikube logs
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33"><span class="token comment"># delete cluster</span>
</span><span class="code-line line-number" line="34">minikube delete
</span><span class="code-line line-number" line="35">minikube delete <span class="token parameter variable">--purge</span>
</span></code><div onclick="copied(this)" data-code="# install
curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
chmod +x ./minikube
sudo mv ./minikube /usr/local/bin/minikube

# get version
minikube version

# set hypervisor
minikube config set driver <YOUR_HYPERVISOR>

# up without hypervisor
minikube start --driver=hyperkit

# create cluster
minikube start --nodes 3 -p multinode-cluster

# get status of cluster
minikube status

# get ip address
minikube ip

# access minikube host
minikube ssh

# dashboard
minikube dashboard

# logs
minikube logs

# delete cluster
minikube delete
minikube delete --purge
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="kind"><a class="anchor" aria-hidden="true" tabindex="-1" href="#kind"><span class="octicon octicon-link"></span></a>Kind</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Install</span>
</span><span class="code-line line-number" line="2"><span class="token function">curl</span> <span class="token parameter variable">-Lo</span> ./kind https://kind.sigs.k8s.io/dl/v0.14.0/kind-linux-amd64
</span><span class="code-line line-number" line="3"><span class="token function">chmod</span> +x ./kind
</span><span class="code-line line-number" line="4"><span class="token function">sudo</span> <span class="token function">mv</span> ./kind /usr/local/bin/kind
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment"># create cluster</span>
</span><span class="code-line line-number" line="7">kind create cluster
</span><span class="code-line line-number" line="8">kind create cluster <span class="token parameter variable">--name</span> silvestrini
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># get clusters</span>
</span><span class="code-line line-number" line="11">kind get clusters
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment"># delete clusters</span>
</span><span class="code-line line-number" line="14">kind delete clusters <span class="token variable"><span class="token variable">$(</span>kind get clusters<span class="token variable">)</span></span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment">## create yaml</span>
</span><span class="code-line line-number" line="17"><span class="token function">cat</span> <span class="token operator">&#x3C;&#x3C;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">></span> <span class="token environment constant">$HOME</span>/kind-3nodes.yaml</span>
</span></span><span class="code-line line-number" line="18"><span class="token string">kind: Cluster
</span></span><span class="code-line line-number" line="19"><span class="token string">apiVersion: kind.x-k8s.io/v1alpha4
</span></span><span class="code-line line-number" line="20"><span class="token string">nodes:
</span></span><span class="code-line line-number" line="21"><span class="token string">  - role: control-plane
</span></span><span class="code-line line-number" line="22"><span class="token string">  - role: worker
</span></span><span class="code-line line-number" line="23"><span class="token string">  - role: worker
</span></span><span class="code-line line-number" line="24"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="25">
</span><span class="code-line line-number" line="26"><span class="token comment"># create cluster</span>
</span><span class="code-line line-number" line="27">kind create cluster <span class="token parameter variable">--name</span> kind-multinodes <span class="token parameter variable">--config</span> <span class="token environment constant">$HOME</span>/kind-3nodes.yaml
</span></code><div onclick="copied(this)" data-code="# Install
curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.14.0/kind-linux-amd64
chmod +x ./kind
sudo mv ./kind /usr/local/bin/kind

# create cluster
kind create cluster
kind create cluster --name silvestrini

# get clusters
kind get clusters

# delete clusters
kind delete clusters $(kind get clusters)

## create yaml
cat << EOF > $HOME/kind-3nodes.yaml
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
  - role: control-plane
  - role: worker
  - role: worker
EOF

# create cluster
kind create cluster --name kind-multinodes --config $HOME/kind-3nodes.yaml
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#install-kubernetes">back to install-kubernetes</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="rke2"><a class="anchor" aria-hidden="true" tabindex="-1" href="#rke2"><span class="octicon octicon-link"></span></a>RKE2</h2>
    <p><a name="rke2"></a></p>
    <p>For create kubernetes cluster using RKE2, see scripts in folder scripts/linux/k8s/install-rke2.sh</p>
    <h3 id="some-commands-of-stack-rke2"><a class="anchor" aria-hidden="true" tabindex="-1" href="#some-commands-of-stack-rke2"><span class="octicon octicon-link"></span></a>Some commands of stack rke2</h3>
    <p>Set your PATH variable:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/opt/rke2/bin:/var/lib/rancher/rke2/bin
</span></code><div onclick="copied(this)" data-code="export PATH=$PATH:/opt/rke2/bin:/var/lib/rancher/rke2/bin
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="containerd---ctr-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#containerd---ctr-commands"><span class="octicon octicon-link"></span></a>CONTAINERD - ctr Commands</h4>
    <pre><code class="language-zhs code-highlight"><span class="code-line line-number" line="1">#list containers using ctr
</span><span class="code-line line-number" line="2">ctr --address /run/k3s/containerd/containerd.sock --namespace k8s.io container ls
</span></code><div onclick="copied(this)" data-code="#list containers using ctr
ctr --address /run/k3s/containerd/containerd.sock --namespace k8s.io container ls
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="containerd---crictl-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#containerd---crictl-commands"><span class="octicon octicon-link"></span></a>CONTAINERD - crictl Commands</h4>
    <pre><code class="language-zhs code-highlight"><span class="code-line line-number" line="1">#list containers using crictl
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3">## example 1
</span><span class="code-line line-number" line="4">export CRI_CONFIG_FILE=/var/lib/rancher/rke2/agent/etc/crictl.yaml
</span><span class="code-line line-number" line="5">crictl ps
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7">## example 2
</span><span class="code-line line-number" line="8">crictl --config /var/lib/rancher/rke2/agent/etc/crictl.yaml ps
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10">## example 3
</span><span class="code-line line-number" line="11">crictl --runtime-endpoint unix:///run/k3s/containerd/containerd.sock ps -a
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14"># stats containers
</span><span class="code-line line-number" line="15">crictl stats
</span></code><div onclick="copied(this)" data-code="#list containers using crictl

## example 1
export CRI_CONFIG_FILE=/var/lib/rancher/rke2/agent/etc/crictl.yaml
crictl ps

## example 2
crictl --config /var/lib/rancher/rke2/agent/etc/crictl.yaml ps

## example 3
crictl --runtime-endpoint unix:///run/k3s/containerd/containerd.sock ps -a


# stats containers
crictl stats
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="logging"><a class="anchor" aria-hidden="true" tabindex="-1" href="#logging"><span class="octicon octicon-link"></span></a>Logging</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">journalctl <span class="token parameter variable">-f</span> <span class="token parameter variable">-u</span> rke2-server
</span><span class="code-line line-number" line="2">/var/lib/rancher/rke2/agent/containerd/containerd.log
</span><span class="code-line line-number" line="3">/var/lib/rancher/rke2/agent/logs/kubelet.log
</span></code><div onclick="copied(this)" data-code="journalctl -f -u rke2-server
/var/lib/rancher/rke2/agent/containerd/containerd.log
/var/lib/rancher/rke2/agent/logs/kubelet.log
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Reference: <a href="https://gist.github.com/superseb/3b78f47989e0dbc1295486c186e944bf">https://gist.github.com/superseb/3b78f47989e0dbc1295486c186e944bf</a></p>
    <p align="right">(<a href="#rke2">back to rke2</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="kubectl"><a class="anchor" aria-hidden="true" tabindex="-1" href="#kubectl"><span class="octicon octicon-link"></span></a>Kubectl</h2>
    <p><a name="kubectl"></a></p>
    <h3 id="install"><a class="anchor" aria-hidden="true" tabindex="-1" href="#install"><span class="octicon octicon-link"></span></a>Install</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># install</span>
</span><span class="code-line line-number" line="2"><span class="token function">curl</span> <span class="token parameter variable">-LO</span> https://storage.googleapis.com/kubernetes-release/release/<span class="token variable"><span class="token variable">`</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token punctuation">\</span> 
</span></span><span class="code-line line-number" line="3"><span class="token variable">https://storage.googleapis.com/kubernetes-release/release/stable.txt<span class="token variable">`</span></span>/bin/linux/amd64/kubectl
</span><span class="code-line line-number" line="4"><span class="token function">chmod</span> +x ./kubectl
</span><span class="code-line line-number" line="5"><span class="token function">mv</span> ./kubectl /usr/local/bin/kubectl
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># get version</span>
</span><span class="code-line line-number" line="8">kubectl version  <span class="token parameter variable">--output</span><span class="token operator">=</span>yaml <span class="token parameter variable">--client</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># kubectl autocomplete</span>
</span><span class="code-line line-number" line="11"><span class="token builtin class-name">source</span> <span class="token operator">&#x3C;</span><span class="token punctuation">(</span>kubectl completion <span class="token function">bash</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment"># kubectl alias</span>
</span><span class="code-line line-number" line="14"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">k</span><span class="token operator">=</span>kubectl
</span><span class="code-line line-number" line="15">complete <span class="token parameter variable">-F</span> __start_kubectl k
</span></code><div onclick="copied(this)" data-code="# install
curl -LO https://storage.googleapis.com/kubernetes-release/release/&#x60;curl -s \ 
https://storage.googleapis.com/kubernetes-release/release/stable.txt&#x60;/bin/linux/amd64/kubectl
chmod +x ./kubectl
mv ./kubectl /usr/local/bin/kubectl

# get version
kubectl version  --output=yaml --client

# kubectl autocomplete
source <(kubectl completion bash)

# kubectl alias
alias k=kubectl
complete -F __start_kubectl k
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="commands---kubectl"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---kubectl"><span class="octicon octicon-link"></span></a>Commands - Kubectl</h3>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">
</span><span class="code-line line-number" line="2"><span class="token comment">########## resources ############</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># list all resources</span>
</span><span class="code-line line-number" line="5">kubectl get all
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment">########## namespaces ###########</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment"># get namespaces</span>
</span><span class="code-line line-number" line="10">kubectl get namespaces
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># describe namespaces</span>
</span><span class="code-line line-number" line="13">kubectl describe namespaces
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment">########## nodes ############</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token comment"># list nodes</span>
</span><span class="code-line line-number" line="18">kubectl get nodes
</span><span class="code-line line-number" line="19">kubectl get nodes <span class="token parameter variable">-o</span> wide
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># delete node</span>
</span><span class="code-line line-number" line="22">kubectl drain <span class="token operator">&#x3C;</span>node_name<span class="token operator">></span> --ignore-daemonsets --delete-emptydir-data
</span><span class="code-line line-number" line="23">kubectl delete <span class="token function">node</span> <span class="token operator">&#x3C;</span>node_name<span class="token operator">></span>
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25"><span class="token comment"># get logs</span>
</span><span class="code-line line-number" line="26">kubectl logs my-nginx
</span><span class="code-line line-number" line="27">kubectl logs <span class="token parameter variable">-f</span> my-nginx
</span><span class="code-line line-number" line="28">kubectl logs <span class="token parameter variable">-n</span> kube-system --all-containers<span class="token operator">=</span>true etcd-control-plane01
</span></code><div onclick="copied(this)" data-code="
########## resources ############

# list all resources
kubectl get all

########## namespaces ###########

# get namespaces
kubectl get namespaces

# describe namespaces
kubectl describe namespaces

########## nodes ############

# list nodes
kubectl get nodes
kubectl get nodes -o wide

# delete node
kubectl drain <node_name> --ignore-daemonsets --delete-emptydir-data
kubectl delete node <node_name>

# get logs
kubectl logs my-nginx
kubectl logs -f my-nginx
kubectl logs -n kube-system --all-containers=true etcd-control-plane01
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#kubectl">back to kubectl</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#containers"><span class="octicon octicon-link"></span></a>Containers</h2>
    <p><a name="containers"></a></p>
    <p>
      <img src="images/docker.jpg" alt="Containers">
    </p>
    <h3 id="commands---containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---containers"><span class="octicon octicon-link"></span></a>Commands - Containers</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># get containers in pod</span>
</span><span class="code-line line-number" line="2">kubectl <span class="token parameter variable">-n</span> kube-system  describe pods kube-proxy-worker01 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-ws</span> <span class="token parameter variable">-A</span> <span class="token number">10</span>  Containers
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># connect in container</span>
</span><span class="code-line line-number" line="5">kubectl attach silvestrini <span class="token parameter variable">-c</span> infra
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># connect in container</span>
</span><span class="code-line line-number" line="8">kubectl <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> pod_name <span class="token parameter variable">-c</span> container_name <span class="token function">bash</span>
</span><span class="code-line line-number" line="9">kubectl <span class="token builtin class-name">exec</span> infra <span class="token function">ls</span>
</span><span class="code-line line-number" line="10">kubectl <span class="token builtin class-name">exec</span> silvestrini <span class="token parameter variable">-c</span> infra -- <span class="token function">ls</span>
</span><span class="code-line line-number" line="11">kubectl <span class="token builtin class-name">exec</span> silvestrini <span class="token parameter variable">-c</span> infra <span class="token parameter variable">-it</span> <span class="token function">sh</span> 
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment"># access container in specific namespace</span>
</span><span class="code-line line-number" line="14">kubectl <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token parameter variable">-n</span> kube-system  kube-proxy-worker01 <span class="token parameter variable">-c</span> kube-proxy -- <span class="token function">bash</span>
</span></code><div onclick="copied(this)" data-code="# get containers in pod
kubectl -n kube-system  describe pods kube-proxy-worker01 | grep -ws -A 10  Containers

# connect in container
kubectl attach silvestrini -c infra

# connect in container
kubectl exec -it pod_name -c container_name bash
kubectl exec infra ls
kubectl exec silvestrini -c infra -- ls
kubectl exec silvestrini -c infra -it sh 

# access container in specific namespace
kubectl exec -it -n kube-system  kube-proxy-worker01 -c kube-proxy -- bash
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#containers">back to containers</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="pods"><a class="anchor" aria-hidden="true" tabindex="-1" href="#pods"><span class="octicon octicon-link"></span></a>Pods</h2>
    <p><a name="pods"></a></p>
    <p>
      <img src="images/pod.jpg" alt="Pod">
    </p>
    <p>A pod is the smallest execution unit in Kubernetes. A pod encapsulates one or more applications.<br>Pods are ephemeral by nature, if a pod (or the node it executes on) fails,<br>Kubernetes can automatically create a new replica of that pod to continue operations.<br>Pods include one or more containers (such as Docker containers).</p>
    <p>Pods also provide environmental dependencies, including persistent<br>storage volumes (storage that is permanent and available to all pods<br>in the cluster) and configuration data needed to run the container(s) within the pod.</p>
    <h3 id="commands---pods"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---pods"><span class="octicon octicon-link"></span></a>Commands - Pods</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create pods without manifest</span>
</span><span class="code-line line-number" line="2">kubectl run nginx <span class="token parameter variable">--image</span> nginx
</span><span class="code-line line-number" line="3">kubectl run <span class="token parameter variable">-it</span> <span class="token parameter variable">--rm</span> debug <span class="token parameter variable">--image</span><span class="token operator">=</span>busybox <span class="token parameter variable">--restart</span><span class="token operator">=</span>Never -- <span class="token function">sh</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># create pod with manifest</span>
</span><span class="code-line line-number" line="6">kubectl apply <span class="token parameter variable">-f</span> pod-template.yaml
</span><span class="code-line line-number" line="7">kubectl create <span class="token parameter variable">-f</span> pod.yaml
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment"># list pods</span>
</span><span class="code-line line-number" line="10">kubectl get pods
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># list all pods</span>
</span><span class="code-line line-number" line="13">kubectl get pods --all-namespaces
</span><span class="code-line line-number" line="14">kubectl get pods <span class="token parameter variable">-A</span>
</span><span class="code-line line-number" line="15">kubectl get pods <span class="token parameter variable">-A</span> <span class="token parameter variable">-o</span> wide
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token comment"># list pods in specific node</span>
</span><span class="code-line line-number" line="18">kubectl get pods --all-namespaces <span class="token parameter variable">-o</span> wide --field-selector <span class="token assign-left variable">spec.nodeName</span><span class="token operator">=</span>worker01
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20"><span class="token comment"># list pods in  kube-system namespace</span>
</span><span class="code-line line-number" line="21">kubectl get pod <span class="token parameter variable">-n</span> kube-system
</span><span class="code-line line-number" line="22">kubectl get pods <span class="token parameter variable">-n</span> kube-system <span class="token parameter variable">-o</span><span class="token operator">=</span>jsonpath<span class="token operator">=</span><span class="token string">'{range.items[*]}{"\n"}{.metadata.name}{range.spec.containers}'</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment"># list pods with specif output</span>
</span><span class="code-line line-number" line="25">kubectl get pods <span class="token parameter variable">-n</span> kube-system <span class="token parameter variable">-o</span> yaml
</span><span class="code-line line-number" line="26">kubectl get pods <span class="token parameter variable">-n</span> kube-system <span class="token parameter variable">-o</span> json
</span><span class="code-line line-number" line="27">
</span><span class="code-line line-number" line="28"><span class="token comment"># list images used in pods</span>
</span><span class="code-line line-number" line="29">kubectl get pods <span class="token parameter variable">-o</span><span class="token operator">=</span>jsonpath<span class="token operator">=</span><span class="token string">'{range .items[*]}{"\n"}{.metadata.name}{"\t"}{range .spec.containers[*]}{.image}{"\t"}{end}{end}'</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31"><span class="token comment"># describe details of pods</span>
</span><span class="code-line line-number" line="32">kubectl describe pod nginx
</span><span class="code-line line-number" line="33">kubectl <span class="token parameter variable">-n</span> kube-system  describe pods kube-proxy-worker01
</span><span class="code-line line-number" line="34">
</span><span class="code-line line-number" line="35"><span class="token comment"># delete pods</span>
</span><span class="code-line line-number" line="36">kubectl delete pod nginx
</span><span class="code-line line-number" line="37">kubectl delete <span class="token parameter variable">-f</span> pod-template.yaml
</span><span class="code-line line-number" line="38">
</span><span class="code-line line-number" line="39"><span class="token comment"># create Service | expose pod</span>
</span><span class="code-line line-number" line="40">kubectl expose pod my-nginx
</span><span class="code-line line-number" line="41">
</span></code><div onclick="copied(this)" data-code="# create pods without manifest
kubectl run nginx --image nginx
kubectl run -it --rm debug --image=busybox --restart=Never -- sh

# create pod with manifest
kubectl apply -f pod-template.yaml
kubectl create -f pod.yaml

# list pods
kubectl get pods

# list all pods
kubectl get pods --all-namespaces
kubectl get pods -A
kubectl get pods -A -o wide

# list pods in specific node
kubectl get pods --all-namespaces -o wide --field-selector spec.nodeName=worker01

# list pods in  kube-system namespace
kubectl get pod -n kube-system
kubectl get pods -n kube-system -o=jsonpath=&#x27;{range.items[*]}{&#x22;\n&#x22;}{.metadata.name}{range.spec.containers}&#x27;

# list pods with specif output
kubectl get pods -n kube-system -o yaml
kubectl get pods -n kube-system -o json

# list images used in pods
kubectl get pods -o=jsonpath=&#x27;{range .items[*]}{&#x22;\n&#x22;}{.metadata.name}{&#x22;\t&#x22;}{range .spec.containers[*]}{.image}{&#x22;\t&#x22;}{end}{end}&#x27;

# describe details of pods
kubectl describe pod nginx
kubectl -n kube-system  describe pods kube-proxy-worker01

# delete pods
kubectl delete pod nginx
kubectl delete -f pod-template.yaml

# create Service | expose pod
kubectl expose pod my-nginx

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="understanding-pod-resources"><a class="anchor" aria-hidden="true" tabindex="-1" href="#understanding-pod-resources"><span class="octicon octicon-link"></span></a>Understanding Pod Resources</h3>
    <p>
      <img src="images/resources.jpg" alt="Pod Resources">
    </p>
    <p align="right">(<a href="#pods">back to pods</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="deployment"><a class="anchor" aria-hidden="true" tabindex="-1" href="#deployment"><span class="octicon octicon-link"></span></a>Deployment</h2>
    <p><a name="deployment"></a></p>
    <p>
      <img src="images/deployment.jpg" alt="Deployment">
    </p>
    <p>
      A Deployment provides declarative updates for Pods and ReplicaSets.
      You describe a desired state in a Deployment,and the Deployment Controller<br>changes the actual state to the desired state at a controlled rate.<br>You can define Deployments to create new ReplicaSets, or to remove existing<br>Deployments and adopt all their resources with new Deployments.
    </p>
    <h3 id="commands---deployment"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---deployment"><span class="octicon octicon-link"></span></a>Commands - Deployment</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create manifest|template</span>
</span><span class="code-line line-number" line="2">kubectl run my-nginx  <span class="token parameter variable">--image</span> nginx <span class="token parameter variable">--port</span> <span class="token number">80</span> --dry-run<span class="token operator">=</span>client <span class="token parameter variable">-o</span> yaml <span class="token operator">></span>pod-template.yaml
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># apply\update deployment</span>
</span><span class="code-line line-number" line="5">kubectl apply <span class="token parameter variable">-f</span> deployment.yaml
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># list deployments</span>
</span><span class="code-line line-number" line="8">kubectl get deployments <span class="token parameter variable">-A</span>
</span><span class="code-line line-number" line="9">kubectl <span class="token parameter variable">-n</span> kube-system get deployments.apps
</span><span class="code-line line-number" line="10">kubectl get deployments <span class="token parameter variable">-l</span> <span class="token assign-left variable">app</span><span class="token operator">=</span>nginx-deployment
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># get pods management by deployment</span>
</span><span class="code-line line-number" line="13">kubectl get pods <span class="token parameter variable">-l</span> <span class="token assign-left variable">app</span><span class="token operator">=</span>nginx-deployment
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># describe deployment</span>
</span><span class="code-line line-number" line="16">kubectl describe deployment nginx-deployment
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># check status of deployment</span>
</span><span class="code-line line-number" line="19">kubectl rollout status deployment nginx-deployment
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># running rollback deployment</span>
</span><span class="code-line line-number" line="22">kubectl rollout undo deployment nginx-deployment
</span><span class="code-line line-number" line="23">kubectl rollout undo deployment nginx-deployment --to-revision<span class="token operator">=</span><span class="token number">1</span>
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25"><span class="token comment"># get deployment history</span>
</span><span class="code-line line-number" line="26">kubectl rollout <span class="token function">history</span> deployment nginx-deployment
</span><span class="code-line line-number" line="27">kubectl rollout <span class="token function">history</span> deployment nginx-deployment <span class="token parameter variable">--revision</span><span class="token operator">=</span><span class="token number">2</span>
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29"><span class="token comment"># pause deployment(block updates)</span>
</span><span class="code-line line-number" line="30">kubectl rollout pause deployment nginx-deployment
</span><span class="code-line line-number" line="31">
</span><span class="code-line line-number" line="32"><span class="token comment"># resume deployment(allow updates)</span>
</span><span class="code-line line-number" line="33">kubectl rollout resume deployment nginx-deployment
</span><span class="code-line line-number" line="34">
</span><span class="code-line line-number" line="35"><span class="token comment"># restart deployment (recreate all pods in deployment)</span>
</span><span class="code-line line-number" line="36">kubectl rollout restart deployment nginx-deployment
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38"><span class="token comment"># delete deployment</span>
</span><span class="code-line line-number" line="39">kubectl delete deployment nginx-deployment
</span></code><div onclick="copied(this)" data-code="# create manifest|template
kubectl run my-nginx  --image nginx --port 80 --dry-run=client -o yaml >pod-template.yaml

# apply\update deployment
kubectl apply -f deployment.yaml

# list deployments
kubectl get deployments -A
kubectl -n kube-system get deployments.apps
kubectl get deployments -l app=nginx-deployment

# get pods management by deployment
kubectl get pods -l app=nginx-deployment

# describe deployment
kubectl describe deployment nginx-deployment

# check status of deployment
kubectl rollout status deployment nginx-deployment

# running rollback deployment
kubectl rollout undo deployment nginx-deployment
kubectl rollout undo deployment nginx-deployment --to-revision=1

# get deployment history
kubectl rollout history deployment nginx-deployment
kubectl rollout history deployment nginx-deployment --revision=2

# pause deployment(block updates)
kubectl rollout pause deployment nginx-deployment

# resume deployment(allow updates)
kubectl rollout resume deployment nginx-deployment

# restart deployment (recreate all pods in deployment)
kubectl rollout restart deployment nginx-deployment

# delete deployment
kubectl delete deployment nginx-deployment
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#deployment">back to deployment</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="replicaset"><a class="anchor" aria-hidden="true" tabindex="-1" href="#replicaset"><span class="octicon octicon-link"></span></a>ReplicaSet</h2>
    <p><a name="replicaset"></a></p>
    <p>
      <img src="images/replicaset.jpg" alt="ReplicaSet">
    </p>
    <p>A ReplicaSet's purpose is to maintain a stable set of replica Pods running<br>at any given time. As such, it is often used to guarantee the availability of<br>a specified number of identical Pods.</p>
    <h3 id="commands---replicaset"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---replicaset"><span class="octicon octicon-link"></span></a>Commands - ReplicaSet</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list replicaset</span>
</span><span class="code-line line-number" line="2">kubectl get replicaset <span class="token parameter variable">-l</span> <span class="token assign-left variable">app</span><span class="token operator">=</span>nginx-deployment
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># describe replicaset</span>
</span><span class="code-line line-number" line="5">kubectl describe replicaset nginx-replicaset
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># create replicaset - see folder replicaset/ for examples</span>
</span><span class="code-line line-number" line="8">kubectl apply <span class="token parameter variable">-f</span> replicaset.yaml
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># delete replicaset</span>
</span><span class="code-line line-number" line="11">kubectl delete replicas
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token operator">&#x3C;</span>p <span class="token assign-left variable">align</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"#replicaset"</span><span class="token operator">></span>back to replicaset<span class="token operator">&#x3C;</span>/a<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">&#x3C;</span>/p<span class="token operator">></span>
</span><span class="code-line line-number" line="14"><span class="token operator">&#x3C;</span>p <span class="token assign-left variable">align</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"#readme-top"</span><span class="token operator">></span>back to top<span class="token operator">&#x3C;</span>/a<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">&#x3C;</span>/p<span class="token operator">></span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment">## Daemonset</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token operator">!</span><span class="token punctuation">[</span>Daemonset<span class="token punctuation">]</span><span class="token punctuation">(</span>images/daemonset.png<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20">A DaemonSet ensures that all <span class="token punctuation">(</span>or some<span class="token punctuation">)</span> Nodes run a copy of a Pod.<span class="token punctuation">\</span>
</span><span class="code-line line-number" line="21">As nodes are added to the cluster, Pods are added to them.<span class="token punctuation">\</span>
</span><span class="code-line line-number" line="22">As nodes are removed from the cluster, those Pods are garbage collected.<span class="token punctuation">\</span>
</span><span class="code-line line-number" line="23">Deleting a DaemonSet will clean up the Pods it created.
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25"><span class="token comment">### Commands - Daemonset</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27">```sh
</span><span class="code-line line-number" line="28"><span class="token comment"># list daemonset</span>
</span><span class="code-line line-number" line="29">kubectl get daemonset <span class="token parameter variable">-A</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31"><span class="token comment">#$ describe daemonset</span>
</span><span class="code-line line-number" line="32">kubectl describe daemonset node-exporter
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34"><span class="token comment"># create daemonset - see folder daemonset/ for examples</span>
</span><span class="code-line line-number" line="35">kubectl apply <span class="token parameter variable">-f</span> daemonset.yaml
</span><span class="code-line line-number" line="36">
</span><span class="code-line line-number" line="37"><span class="token comment"># delete daemonset</span>
</span><span class="code-line line-number" line="38">kubectl delete daemonset node-exporter
</span></code><div onclick="copied(this)" data-code="# list replicaset
kubectl get replicaset -l app=nginx-deployment

# describe replicaset
kubectl describe replicaset nginx-replicaset

# create replicaset - see folder replicaset/ for examples
kubectl apply -f replicaset.yaml

# delete replicaset
kubectl delete replicas

<p align=&#x22;right&#x22;>(<a href=&#x22;#replicaset&#x22;>back to replicaset</a>)</p>
<p align=&#x22;right&#x22;>(<a href=&#x22;#readme-top&#x22;>back to top</a>)</p>

## Daemonset

![Daemonset](images/daemonset.png)

A DaemonSet ensures that all (or some) Nodes run a copy of a Pod.\
As nodes are added to the cluster, Pods are added to them.\
As nodes are removed from the cluster, those Pods are garbage collected.\
Deleting a DaemonSet will clean up the Pods it created.

### Commands - Daemonset

&#x60;&#x60;&#x60;sh
# list daemonset
kubectl get daemonset -A

#$ describe daemonset
kubectl describe daemonset node-exporter

# create daemonset - see folder daemonset/ for examples
kubectl apply -f daemonset.yaml

# delete daemonset
kubectl delete daemonset node-exporter
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="probes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#probes"><span class="octicon octicon-link"></span></a>Probes</h2>
    <p><a name="probes"></a></p>
    <p>
      <img src="images/probes.jpg" alt="Probes">
    </p>
    <p>Kubernetes probes are health checks that are used to monitor the health of applications and services in a Kubernetes cluster.<br>Kubernetes probes are typically implemented using the Kubernetes API, which allows them to query the application or service for information.<br>This information can then be used to determine the application's or service's health.<br>Kubernetes probes can also be used to detect changes in the application or\ service and send a notification to the Kubernetes control plane, which can\ then take corrective action.</p>
    <h3 id="types-of-probes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#types-of-probes"><span class="octicon octicon-link"></span></a>Types of Probes</h3>
    <h4 id="startup-probes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#startup-probes"><span class="octicon octicon-link"></span></a>Startup Probes</h4>
    <p>A startup probe is used to determine if a container has started successfully.<br>This type of probe is typically used for applications that take longer to start up,<br>or for containers that perform initialization tasks before they become ready to receive traffic.<br>The startup probe is run only once, after the container has been created, and it will delay the start<br>of the readiness and liveness probes until it succeeds.<br>If the startup probe fails, the container is considered to have failed to start<br>and Kubernetes will attempt to restart the container.</p>
    <h4 id="readiness-probes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#readiness-probes"><span class="octicon octicon-link"></span></a>Readiness Probes</h4>
    <p>A readiness probe is used to determine if a container is ready to receive traffic.<br>This type of probe is used to ensure that a container is fully up and running and can<br>accept incoming connections before it is added to the service load balancer.<br>A readiness probe can be used to check the availability of an application's dependencies<br>or to perform any other check that indicates the container is ready to serve traffic.<br>If the readiness probe fails, the container is removed from the service load balancer until the probe succeeds again.</p>
    <h4 id="liveness-probes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#liveness-probes"><span class="octicon octicon-link"></span></a>Liveness Probes</h4>
    <p>A liveness probe is used to determine if a container is still running and functioning properly.<br>This type of probe is used to detect and recover from container crashes or hang-ups.<br>A liveness probe can be used to check the responsiveness of an application or to perform<br>any other check that indicates the container is still alive and healthy.<br>If the liveness probe fails, Kubernetes will attempt to restart the container to restore its functionality.</p>
    <p align="right">(<a href="#probes">back to probes</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="volumes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#volumes"><span class="octicon octicon-link"></span></a>Volumes</h2>
    <p><a name="volumes"></a></p>
    <p>
      <img src="images/volumes01.png" alt="Volumes">
    </p>
    <h3 id="storage-class"><a class="anchor" aria-hidden="true" tabindex="-1" href="#storage-class"><span class="octicon octicon-link"></span></a>Storage Class</h3>
    <p>
      <img src="/images/storageclass.png" alt="Storage Class">
    </p>
    <p>Some Storage Class providers</p>
    <ul>
      <li>kubernetes.io/aws-ebs: AWS Elastic Block Store (EBS)</li>
      <li>kubernetes.io/azure-disk: Azure Disk</li>
      <li>kubernetes.io/gce-pd: Google Compute Engine (GCE) Persistent Disk</li>
      <li>kubernetes.io/cinder: OpenStack Cinder</li>
      <li>kubernetes.io/vsphere-volume: vSphere</li>
      <li>kubernetes.io/no-provisioner: Volumes locais</li>
      <li>kubernetes.io/host-path: Volumes locais</li>
    </ul>
    <h3 id="pv---persistent-volume"><a class="anchor" aria-hidden="true" tabindex="-1" href="#pv---persistent-volume"><span class="octicon octicon-link"></span></a>PV - Persistent volume</h3>
    <p>
      <img src="images/pv.png" alt="PV">
    </p>
    <p>Some Types of PV</p>
    <ul>
      <li>Local
        <ul>
          <li>HostPath</li>
        </ul>
      </li>
      <li>Network
        <ul>
          <li>NFS</li>
          <li>iSCSI</li>
          <li>Ceph RBD(RAdos Block Device)</li>
          <li>GlusterFS</li>
          <li>Cloud Providers(EBS,Google Cloud Persistent Disk,Azure Disk Storage)</li>
        </ul>
      </li>
    </ul>
    <h4 id="type-of-storagehostpath"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-of-storagehostpath"><span class="octicon octicon-link"></span></a>Type of Storage(hostPath)</h4>
    <ul>
      <li>hostPath</li>
      <li>nfs</li>
      <li>iscsi</li>
      <li>csi</li>
      <li>local</li>
      <li>fc</li>
    </ul>
    <h3 id="pvc---persistent-volume-claim"><a class="anchor" aria-hidden="true" tabindex="-1" href="#pvc---persistent-volume-claim"><span class="octicon octicon-link"></span></a>PVC - Persistent Volume Claim</h3>
    <p>
      <img src="/images/pvc.png" alt="PVC">
    </p>
    <h3 id="commands---volumes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---volumes"><span class="octicon octicon-link"></span></a>Commands - Volumes</h3>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list storage classes</span>
</span><span class="code-line line-number" line="2">kubectl get storageclass
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># describe storage class</span>
</span><span class="code-line line-number" line="5">kubectl describe storageclass silvestrini
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># get storage class provisioners</span>
</span><span class="code-line line-number" line="8">kubectl get storageclasses.storage.k8s.io  <span class="token parameter variable">-o</span><span class="token operator">=</span>jsonpath<span class="token operator">=</span><span class="token string">'{range.items[*]}{.provisioner}{"\n"}'</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># list pv in cluster</span>
</span><span class="code-line line-number" line="11">kubectl get <span class="token function">pv</span> <span class="token parameter variable">-A</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment"># describe pv</span>
</span><span class="code-line line-number" line="14">kubectl describe <span class="token function">pv</span> my-pv
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment"># list pvc</span>
</span><span class="code-line line-number" line="17">kubectl get pvc <span class="token parameter variable">-o</span> wide
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19"><span class="token comment"># delete pvc </span>
</span><span class="code-line line-number" line="20">kubectl delete pvc my-pvc
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22"><span class="token comment"># describe pvc</span>
</span><span class="code-line line-number" line="23">kubectl describe pvc my-pvc
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25"><span class="token comment"># get events</span>
</span><span class="code-line line-number" line="26">kubectl get events my-pvc.1772cda2d4c7069b
</span></code><div onclick="copied(this)" data-code="# list storage classes
kubectl get storageclass

# describe storage class
kubectl describe storageclass silvestrini

# get storage class provisioners
kubectl get storageclasses.storage.k8s.io  -o=jsonpath=&#x27;{range.items[*]}{.provisioner}{&#x22;\n&#x22;}&#x27;

# list pv in cluster
kubectl get pv -A

# describe pv
kubectl describe pv my-pv

# list pvc
kubectl get pvc -o wide

# delete pvc 
kubectl delete pvc my-pvc

# describe pvc
kubectl describe pvc my-pvc

# get events
kubectl get events my-pvc.1772cda2d4c7069b
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#volumes">back to volumes</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="statefulset"><a class="anchor" aria-hidden="true" tabindex="-1" href="#statefulset"><span class="octicon octicon-link"></span></a>StatefulSet</h2>
    <p><a name="statefulset"></a></p>
    <p>
      <img src="images/statefulset.png" alt="StatefulSet">
    </p>
    <p>StatefulSet is the workload API object used to manage stateful applications.</p>
    <p>Manages the deployment and scaling of a set of Pods, and provides guarantees about the ordering and uniqueness of these Pods.</p>
    <p>Like a Deployment, a StatefulSet manages Pods that are based on an identical container spec.<br>Unlike a Deployment, a StatefulSet maintains a sticky identity for each of its Pods.\</p>
    <p>These pods are created from the same spec, but are not interchangeable: each has a persistent identifier that it maintains across any rescheduling.</p>
    <p>If you want to use storage volumes to provide persistence for your workload,<br>you can use a StatefulSet as part of the solution. Although individual Pods in<br>a StatefulSet are susceptible to failure, the persistent Pod identifiers make<br>it easier to match existing volumes to the new Pods that replace any that have failed.</p>
    <h3 id="dns-for-pods-in-statefulset"><a class="anchor" aria-hidden="true" tabindex="-1" href="#dns-for-pods-in-statefulset"><span class="octicon octicon-link"></span></a>DNS for pods in StatefulSet</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token operator">&#x3C;</span>pod-name<span class="token operator">></span>.<span class="token operator">&#x3C;</span>service-name<span class="token operator">></span>.<span class="token operator">&#x3C;</span>namespace<span class="token operator">></span>.svc.cluster.local
</span><span class="code-line line-number" line="2"><span class="token comment"># Example: nginx-0.nginx.default.svc.cluster.local </span>
</span></code><div onclick="copied(this)" data-code="<pod-name>.<service-name>.<namespace>.svc.cluster.local
# Example: nginx-0.nginx.default.svc.cluster.local 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="commands---statefulset"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---statefulset"><span class="octicon octicon-link"></span></a>Commands - StatefulSet</h3>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list statefulsets</span>
</span><span class="code-line line-number" line="2">kubectl get statefulsets
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># describe statefulsets</span>
</span><span class="code-line line-number" line="5">kubectl describe  statefulsets.apps  nginx 
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># delete statefulset</span>
</span><span class="code-line line-number" line="8">kubectl delete statefulset nginx
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># test network service</span>
</span><span class="code-line line-number" line="11"><span class="token comment">## create container for test</span>
</span><span class="code-line line-number" line="12">kubectl run <span class="token parameter variable">-it</span> <span class="token parameter variable">--rm</span> <span class="token parameter variable">--image</span><span class="token operator">=</span>busybox <span class="token parameter variable">--restart</span><span class="token operator">=</span>Never -- <span class="token function">sh</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14"><span class="token comment">## test nslookup</span>
</span><span class="code-line line-number" line="15"><span class="token function">nslookup</span>  nginx-0.nginx.default.svc.cluster.local
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token comment">## test web page</span>
</span><span class="code-line line-number" line="18"><span class="token function">wget</span> -O- http://nginx-0.nginx.default.svc.cluster.local
</span></code><div onclick="copied(this)" data-code="# list statefulsets
kubectl get statefulsets

# describe statefulsets
kubectl describe  statefulsets.apps  nginx 

# delete statefulset
kubectl delete statefulset nginx

# test network service
## create container for test
kubectl run -it --rm --image=busybox --restart=Never -- sh

## test nslookup
nslookup  nginx-0.nginx.default.svc.cluster.local

## test web page
wget -O- http://nginx-0.nginx.default.svc.cluster.local
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#statefulset">back to statefulset</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="services"><a class="anchor" aria-hidden="true" tabindex="-1" href="#services"><span class="octicon octicon-link"></span></a>Services</h2>
    <p><a name="services"></a></p>
    <p>
      <img src="images/services.png" alt="Services">
    </p>
    <p>A Kubernetes service is a logical abstraction for a deployed group of pods in a cluster<br>(which all perform the same function).<br>Since pods are ephemeral, a service enables a group of pods, which provide specific<br>functions (web services, image processing, etc.) to be assigned a name and unique IP<br>address (clusterIP).</p>
    <h3 id="service-types-in-kubernetes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#service-types-in-kubernetes"><span class="octicon octicon-link"></span></a>Service Types in Kubernetes</h3>
    <h4 id="clusterip-services"><a class="anchor" aria-hidden="true" tabindex="-1" href="#clusterip-services"><span class="octicon octicon-link"></span></a>ClusterIP Services</h4>
    <p>ClusterIP is the default service type in Kubernetes, and it provides internal connectivity between different components of our application. Kubernetes assigns a virtual IP address to a ClusterIP service that can solely be accessed from within the cluster during its creation. This IP address is stable and doesn’t change even if the pods behind the service are rescheduled or replaced.</p>
    <p>ClusterIP services are an excellent choice for internal communication between different components of our application that don’t need to be exposed to the outside world. For example, if we have a microservice that processes data and sends it to another microservice for further processing, we can use a ClusterIP service to connect them.</p>
    <p>To create a ClusterIP service in Kubernetes, we need to define it in a YAML file and apply it to the cluster. Here's an example of a simple ClusterIP service definition:</p>
    <pre class="language-yaml"><code class="language-yaml code-highlight"><span class="code-line line-number" line="1"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line line-number" line="2"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line line-number" line="3"><span class="token key atrule">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="4">  <span class="token key atrule">name</span><span class="token punctuation">:</span> backend
</span><span class="code-line line-number" line="5"><span class="token key atrule">spec</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="6">  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="7">    <span class="token key atrule">app</span><span class="token punctuation">:</span> backend
</span><span class="code-line line-number" line="8">  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> http
</span><span class="code-line line-number" line="10">    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line line-number" line="11">    <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span></code><div onclick="copied(this)" data-code="apiVersion: v1
kind: Service
metadata:
  name: backend
spec:
  selector:
    app: backend
  ports:
  - name: http
    port: 80
    targetPort: 8080
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>In this example, we define a service named backend with a selector that targets pods labeled with app: backend. The service exposes port 80, which is the port used by clients to access the service, and forwards the traffic to the pods’ port 8080, which is where the backend application is running.</p>
    <h4 id="nodeport-services"><a class="anchor" aria-hidden="true" tabindex="-1" href="#nodeport-services"><span class="octicon octicon-link"></span></a>NodePort Services</h4>
    <p>NodePort services extend the functionality of ClusterIP services by enabling external connectivity to our application. When we create a NodePort service on any node within the cluster that meets the defined criteria, Kubernetes opens up a designated port that forwards traffic to the corresponding ClusterIP service running on the node.</p>
    <p>These services are ideal for applications that need to be accessible from outside the cluster, such as web applications or APIs. With NodePort services, we can access our application using the node’s IP address and the port number assigned to the service.</p>
    <p>Let's look at an example of a simple NodePort service definition:</p>
    <pre class="language-yaml"><code class="language-yaml code-highlight"><span class="code-line line-number" line="1"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1 
</span><span class="code-line line-number" line="2"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Service 
</span><span class="code-line line-number" line="3"><span class="token key atrule">metadata</span><span class="token punctuation">:</span> 
</span><span class="code-line line-number" line="4">  <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend 
</span><span class="code-line line-number" line="5"><span class="token key atrule">spec</span><span class="token punctuation">:</span> 
</span><span class="code-line line-number" line="6">  <span class="token key atrule">selector</span><span class="token punctuation">:</span> 
</span><span class="code-line line-number" line="7">    <span class="token key atrule">app</span><span class="token punctuation">:</span> frontend 
</span><span class="code-line line-number" line="8">  <span class="token key atrule">type</span><span class="token punctuation">:</span> NodePort 
</span><span class="code-line line-number" line="9">  <span class="token key atrule">ports</span><span class="token punctuation">:</span> 
</span><span class="code-line line-number" line="10">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> http 
</span><span class="code-line line-number" line="11">      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span> 
</span><span class="code-line line-number" line="12">      <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span></code><div onclick="copied(this)" data-code="apiVersion: v1 
kind: Service 
metadata: 
  name: frontend 
spec: 
  selector: 
    app: frontend 
  type: NodePort 
  ports: 
    - name: http 
      port: 80 
      targetPort: 8080
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>We define a service named frontend that targets pods labeled with app: frontend by setting a selector. The service exposes port 80 and forwards the traffic to the pods’ port 8080. We set the service type to NodePort, and Kubernetes exposes the service on a specific port on a qualifying node within the cluster.</p>
    <p>When we create a NodePort service, Kubernetes assigns a port number from a predefined range of 30000-32767. Additionally, we can specify a custom port number by adding the nodePort field to the service definition:</p>
    <pre class="language-yaml"><code class="language-yaml code-highlight"><span class="code-line line-number" line="1">
</span><span class="code-line line-number" line="2"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line line-number" line="3"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line line-number" line="4"><span class="token key atrule">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="5">  <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend
</span><span class="code-line line-number" line="6"><span class="token key atrule">spec</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="7">  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="8">    <span class="token key atrule">app</span><span class="token punctuation">:</span> frontend
</span><span class="code-line line-number" line="9">  <span class="token key atrule">type</span><span class="token punctuation">:</span> NodePort
</span><span class="code-line line-number" line="10">  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="11">  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> http
</span><span class="code-line line-number" line="12">    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line line-number" line="13">    <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line line-number" line="14">    <span class="token key atrule">nodePort</span><span class="token punctuation">:</span> <span class="token number">30080</span>
</span></code><div onclick="copied(this)" data-code="
apiVersion: v1
kind: Service
metadata:
  name: frontend
spec:
  selector:
    app: frontend
  type: NodePort
  ports:
  - name: http
    port: 80
    targetPort: 8080
    nodePort: 30080
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>The nodePort field is specified as 30080, which tells Kubernetes to expose the service on port 30080 on every node in the cluster.</p>
    <h4 id="loadbalancer-services"><a class="anchor" aria-hidden="true" tabindex="-1" href="#loadbalancer-services"><span class="octicon octicon-link"></span></a>LoadBalancer Services</h4>
    <p>LoadBalancer services connect our applications externally, and production environments use them where high availability and scalability are critical. When we create a LoadBalancer service, Kubernetes provisions a load balancer in our cloud environment and forwards the traffic to the nodes running the service.</p>
    <p>LoadBalancer services are ideal for applications that need to handle high traffic volumes, such as web applications or APIs. With LoadBalancer services, we can access our application using a single IP address assigned to the load balancer.</p>
    <p>Here's an example of a simple LoadBalancer service definition:</p>
    <pre class="language-yaml"><code class="language-yaml code-highlight"><span class="code-line line-number" line="1"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line line-number" line="2"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line line-number" line="3"><span class="token key atrule">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="4">  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
</span><span class="code-line line-number" line="5"><span class="token key atrule">spec</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="6">  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="7">    <span class="token key atrule">app</span><span class="token punctuation">:</span> web
</span><span class="code-line line-number" line="8">  <span class="token key atrule">type</span><span class="token punctuation">:</span> LoadBalancer
</span><span class="code-line line-number" line="9">  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="10">    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> http
</span><span class="code-line line-number" line="11">      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line line-number" line="12">      <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span></code><div onclick="copied(this)" data-code="apiVersion: v1
kind: Service
metadata:
  name: web
spec:
  selector:
    app: web
  type: LoadBalancer
  ports:
    - name: http
      port: 80
      targetPort: 8080
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>We set the service type to LoadBalancer to instruct Kubernetes to provision a load balancer. Here, we define a service named web and specify a selector that targets pods labeled with app: web. Additionally, we expose port 80 and forward traffic to the pods’ port 8080.</p>
    <p>After creating the LoadBalancer service, Kubernetes provisions a load balancer in the cloud environment with a public IP address. We can use this IP address to access our application from outside the cluster.</p>
    <p>
      <img src="/images/service-types.png" alt="Services Types">
    </p>
    <p>Reference: <a href="https://www.baeldung.com/ops/kubernetes-service-types">https://www.baeldung.com/ops/kubernetes-service-types</a></p>
    <h3 id="commands---services"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---services"><span class="octicon octicon-link"></span></a>Commands - Services</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list services</span>
</span><span class="code-line line-number" line="2">kubectl get services
</span><span class="code-line line-number" line="3">kubectl get svc <span class="token parameter variable">-o</span> wide
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># list services in system namespace</span>
</span><span class="code-line line-number" line="6">kubectl get svc <span class="token parameter variable">-n</span> kube-system
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment"># details of services </span>
</span><span class="code-line line-number" line="9">kubectl describe svc nginx
</span><span class="code-line line-number" line="10">kubectl describe svc <span class="token parameter variable">-n</span> kube-system
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># list endpoints</span>
</span><span class="code-line line-number" line="13">kubectl get endpoints
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># create ClusterIP service</span>
</span><span class="code-line line-number" line="16">kubectl expose deployment app-silvestrini <span class="token parameter variable">--port</span><span class="token operator">=</span><span class="token number">80</span> --target-port<span class="token operator">=</span><span class="token number">8080</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># create NodePort service</span>
</span><span class="code-line line-number" line="19">kubectl expose deployment app-silvestrini <span class="token parameter variable">--type</span><span class="token operator">=</span>NodePort <span class="token parameter variable">--port</span><span class="token operator">=</span><span class="token number">80</span> --target-port<span class="token operator">=</span><span class="token number">8080</span>
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># create loadbalance service</span>
</span><span class="code-line line-number" line="22">kubectl expose deployment app-silvestrini <span class="token parameter variable">--type</span><span class="token operator">=</span>LoadBalancer <span class="token parameter variable">--port</span><span class="token operator">=</span><span class="token number">80</span> --target-port<span class="token operator">=</span><span class="token number">8080</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment">#create external name service</span>
</span><span class="code-line line-number" line="25">kubectl create <span class="token function">service</span> externalname app-silvestrini --external-name my-db.skynet.com.br
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># delete service</span>
</span><span class="code-line line-number" line="28">kubectl delete <span class="token function">service</span> nginx
</span></code><div onclick="copied(this)" data-code="# list services
kubectl get services
kubectl get svc -o wide

# list services in system namespace
kubectl get svc -n kube-system

# details of services 
kubectl describe svc nginx
kubectl describe svc -n kube-system

# list endpoints
kubectl get endpoints

# create ClusterIP service
kubectl expose deployment app-silvestrini --port=80 --target-port=8080

# create NodePort service
kubectl expose deployment app-silvestrini --type=NodePort --port=80 --target-port=8080

# create loadbalance service
kubectl expose deployment app-silvestrini --type=LoadBalancer --port=80 --target-port=8080

#create external name service
kubectl create service externalname app-silvestrini --external-name my-db.skynet.com.br

# delete service
kubectl delete service nginx
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#services">back to services</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="secrets"><a class="anchor" aria-hidden="true" tabindex="-1" href="#secrets"><span class="octicon octicon-link"></span></a>Secrets</h2>
    <p><a name="service"></a></p>
    <p>
      <img src="images/secrets.png" alt="Secrets">
    </p>
    <p>A Secret is an object that contains a small amount of sensitive data such as a password, a token, or a key. Such information might otherwise be put in a Pod specification or in a container image. Using a Secret means that you don't need to include confidential data in your application code.</p>
    <p>Because Secrets can be created independently of the Pods that use them, there is less risk of the Secret (and its data) being exposed during the workflow of creating, viewing, and editing Pods. Kubernetes, and applications that run in your cluster, can also take additional precautions with Secrets, such as avoiding writing secret data to nonvolatile storage.</p>
    <p>Secrets are similar to ConfigMaps but are specifically intended to hold confidential data.</p>
    <h3 id="types-of-secrets"><a class="anchor" aria-hidden="true" tabindex="-1" href="#types-of-secrets"><span class="octicon octicon-link"></span></a>Types of Secrets</h3>
    <ul>
      <li>
        <p>Opaque Secrets - these are the simplest and most common secrets. They store arbitrary data such as API keys, passwords, and tokens. Opaque Secrets are encoded in base64 when stored in Kubernetes, but they are not encrypted. They can be used to store sensitive data but are not secure enough for highly sensitive information like database passwords.</p>
      </li>
      <li>
        <p>kubernetes.io/service-account-token - used to store service account access tokens. These tokens are used to authenticate Pods with the Kubernetes API. They are automatically mounted in Pods that use service accounts.</p>
      </li>
      <li>
        <p>kubernetes.io/dockercfg and kubernetes.io/dockerconfigjson - used to store Docker registry credentials. They are used to authenticate Pods with a Docker registry. They are mounted in Pods that use private container images.</p>
      </li>
      <li>
        <p>kubernetes.io/tls, kubernetes.io/ssh-auth, and kubernetes.io/basic-auth - used to store TLS certificates, SSH keys, and basic authentication credentials, respectively. They are used to authenticate Pods with other services.</p>
      </li>
      <li>
        <p>bootstrap.kubernetes.io/token - used to store cluster bootstrapping tokens. They are used to authenticate nodes with the Kubernetes control plane.</p>
      </li>
    </ul>
    <h3 id="commands---secrets"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---secrets"><span class="octicon octicon-link"></span></a>Commands - Secrets</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># get secrets</span>
</span><span class="code-line line-number" line="2">kubectl get secrets <span class="token parameter variable">-A</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># describe secrets</span>
</span><span class="code-line line-number" line="5">kubectl describe secret <span class="token parameter variable">-n</span> cert-manager cert-manager-webhook-ca
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># create opaque secret</span>
</span><span class="code-line line-number" line="8">kubectl create secret generic silvestrini-secret --from-literal<span class="token operator">=</span>username<span class="token operator">=</span>silvestrini --from-literal<span class="token operator">=</span>password<span class="token operator">=</span>silvestrini
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># create tls secret</span>
</span><span class="code-line line-number" line="11"><span class="token comment"># generate certs</span>
</span><span class="code-line line-number" line="12"><span class="token comment"># openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout private-key.key -out cert.crt</span>
</span><span class="code-line line-number" line="13">kubectl create secret tls my-service-web-tls-secret <span class="token parameter variable">--cert</span><span class="token operator">=</span>cert.crt <span class="token parameter variable">--key</span><span class="token operator">=</span>private-key.key
</span></code><div onclick="copied(this)" data-code="# get secrets
kubectl get secrets -A

# describe secrets
kubectl describe secret -n cert-manager cert-manager-webhook-ca

# create opaque secret
kubectl create secret generic silvestrini-secret --from-literal=username=silvestrini --from-literal=password=silvestrini

# create tls secret
# generate certs
# openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout private-key.key -out cert.crt
kubectl create secret tls my-service-web-tls-secret --cert=cert.crt --key=private-key.key
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#secrets">back to secrets</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="configmaps"><a class="anchor" aria-hidden="true" tabindex="-1" href="#configmaps"><span class="octicon octicon-link"></span></a>ConfigMaps</h2>
    <p><a name="configmap"></a></p>
    <p>
      <img src="/images/configmap.png" alt="ConfigMap">
    </p>
    <p>A ConfigMap is an API object used to store non-confidential data in key-value pairs.<br>Pods can consume ConfigMaps as environment variables, command-line arguments, or as configuration files in a volume.</p>
    <p>A ConfigMap allows you to decouple environment-specific configuration from your container images, so that your applications are easily portable.</p>
    <h3 id="commands---configmaps"><a class="anchor" aria-hidden="true" tabindex="-1" href="#commands---configmaps"><span class="octicon octicon-link"></span></a>Commands - ConfigMaps</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create configmap</span>
</span><span class="code-line line-number" line="2">kubectl create configmap nginx-config --from-file<span class="token operator">=</span>kubernetes/configmaps/nginx.conf
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># get configmaps</span>
</span><span class="code-line line-number" line="5">kubectl get configmaps
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># describe configmaps</span>
</span><span class="code-line line-number" line="8">kubectl describe configmaps nginx-config
</span></code><div onclick="copied(this)" data-code="# create configmap
kubectl create configmap nginx-config --from-file=kubernetes/configmaps/nginx.conf

# get configmaps
kubectl get configmaps

# describe configmaps
kubectl describe configmaps nginx-config
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#configmap">back to configmap</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="contributing"><a class="anchor" aria-hidden="true" tabindex="-1" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>
    <p>
      Contributions are what make the open source community such an amazing place to
      learn, inspire, and create. Any contributions you make are <strong>greatly appreciated</strong>.
    </p>
    <p>
      If you have a suggestion that would make this better, please fork the repo and
      create a pull request. You can also simply open an issue with the tag "enhancement".
      Don't forget to give the project a star! Thanks again!
    </p>
    <ol>
      <li>Fork the Project</li>
      <li>Create your Feature Branch (<code>git checkout -b feature/AmazingFeature</code>)</li>
      <li>Commit your Changes (<code>git commit -m 'Add some AmazingFeature'</code>)</li>
      <li>Push to the Branch (<code>git push origin feature/AmazingFeature</code>)</li>
      <li>Open a Pull Request</li>
    </ol>
    <h2 id="license"><a class="anchor" aria-hidden="true" tabindex="-1" href="#license"><span class="octicon octicon-link"></span></a>License</h2>
    <ul>
      <li>This project is licensed under the MIT License * see the LICENSE.md file for details</li>
    </ul>
    <h2 id="contact"><a class="anchor" aria-hidden="true" tabindex="-1" href="#contact"><span class="octicon octicon-link"></span></a>Contact</h2>
    <p>Marcos Silvestrini - <a href="mailto:marcos.silvestrini@gmail.com">marcos.silvestrini@gmail.com</a><br><a href="https://twitter.com/mrsilvestrini"><img src="https://img.shields.io/twitter/url/https/twitter.com/mrsilvestrini.svg?style=social&#x26;label=Follow%20%40mrsilvestrini" alt="Twitter"></a></p>
    <p>Project Link: <a href="https://github.com/marcossilvestrini/learning-kubernetes">https://github.com/marcossilvestrini/learning-kubernetes</a></p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <h2 id="acknowledgments"><a class="anchor" aria-hidden="true" tabindex="-1" href="#acknowledgments"><span class="octicon octicon-link"></span></a>Acknowledgments</h2>
    <ul>
      <li><a href="https://www.cncf.io/">CNCF - Cloud Native Computing Foundation</a></li>
      <li><a href="https://opencontainers.org/">OCI - Open Container Initiative</a></li>
      <li><a href="https://kubernetes.io/blog/2015/04/borg-predecessor-to-kubernetes/">Borg</a></li>
      <li><a href="https://kubernetes.io/">kubernetes Website</a></li>
      <li><a href="https://platform9.com/blog/kubernetes-enterprise-chapter-2-kubernetes-architecture-concepts/">Kubernetes Architecture</a></li>
      <li><a href="https://github.com/kubernetes/kubernetes/">Github</a></li>
      <li><a href="https://github.com/kubernetes/kubernetes/issues">Issues</a></li>
      <li><a href="https://www.cncf.io/certification/cka/">CKA Certification</a></li>
      <li><a href="https://www.cncf.io/certification/ckad/">CKAD Certification</a></li>
      <li><a href="https://www.cncf.io/certification/cks/">CKS Certification</a></li>
      <li><a href="https://kind.sigs.k8s.io/docs/user/quick-start">Kind</a></li>
      <li><a href="https://github.com/kubernetes/minikube">Minikube</a></li>
      <li><a href="https://k0sproject.io/">k0s</a></li>
      <li><a href="https://k3s.io/">k3s</a></li>
      <li><a href="https://docs.rke2.io/architecture">RKE2</a></li>
      <li><a href="https://computingforgeeks.com/deploy-kubernetes-on-rocky-using-rke2/?expand_article=1">Up RKE2 Cluster HA</a></li>
      <li><a href="https://www.suse.com/c/rancher_blog/introduction-to-kubernetes-workloads/">Kubernetes Workloads</a></li>
      <li><a href="https://github.com/rancher/local-path-provisioner">Rancher Local Path Provisioner</a></li>
      <li><a href="https://upcloud.com/resources/tutorials/deploy-kubernetes-dashboard">Kubernetes Dashboard</a></li>
      <li><a href="https://github.com/MuhammedKalkan/OpenLens">Openlens Cluster Managment</a></li>
      <li><a href="https://livro.descomplicandokubernetes.com.br/pt/">Book Linuxips</a></li>
      <li><a href="https://cast.ai/blog/kubernetes-load-balancer-expert-guide-with-examples/">Kubernetes Services</a></li>
    </ul>
    <p align="right">(<a href="#readme-top">back to top</a>)</p><!-- MARKDOWN LINKS & IMAGES--><!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
  <style>markdown-style pre .copied {
  display: flex;
  position: absolute;
  cursor: pointer;
  color: #a5afbb;
  top: 6px;
  right: 6px;
  border-radius: 5px;
  background: #82828226;
  padding: 6px;
  font-size: 12px;
  transition: all .3s;
}
markdown-style pre .copied:not(.active) {
  visibility: hidden;
}
markdown-style pre:hover .copied {
  visibility: visible;
}
markdown-style pre:hover .copied:hover {
  background: #4caf50;
  color: #fff;
}
markdown-style pre:hover .copied:active,
markdown-style pre .copied.active {
  background: #2e9b33;
  color: #fff;
}
markdown-style pre .copied .octicon-copy {
  display: block;
}
markdown-style pre .copied .octicon-check {
  display: none;
}
markdown-style pre .active .octicon-copy {
  display: none;
}
markdown-style pre .active .octicon-check {
  display: block;
}</style><script>/*! @uiw/copy-to-clipboard v1.0.12 | MIT (c) 2021 Kenny Wang | https://github.com/uiwjs/copy-to-clipboard.git */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).copyTextToClipboard=t()}(this,(function(){"use strict";return function(e,t){const o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style={position:"absolute",left:"-9999px"},document.body.appendChild(o);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);o.select();let c=!1;try{c=!!document.execCommand("copy")}catch(e){c=!1}document.body.removeChild(o),n&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),t&&t(c)}}));

function copied(target, str) {
  target.classList.add('active');
  copyTextToClipboard(target.dataset.code, function() {
    setTimeout(() => {
      target.classList.remove('active');
    }, 2000);
  });
}</script></markdown-style></body>
</html>
